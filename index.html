<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/bj.apple-touch.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/bj.medium.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/bj.small.png"><link rel="mask-icon" href="/images/bj.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"buujun.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"flat","show_result":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta property="og:type" content="website"><meta property="og:title" content="BUUJUN&#39;s Notes"><meta property="og:url" content="http://buujun.github.io/index.html"><meta property="og:site_name" content="BUUJUN&#39;s Notes"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="BUUJUN WANG"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://buujun.github.io/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>BUUJUN's Notes</title><link rel="dns-prefetch" href="https://waline-server-buujun.vercel.app"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:#ff0;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">BUUJUN's Notes</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">love and share</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">12</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">2</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">20</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-globe fa-fw"></i>友链</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="BUUJUN WANG" src="/images/bj.avatar.gif"><p class="site-author-name" itemprop="name">BUUJUN WANG</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">2</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://gitee.com/buujun" title="GitHub → https:&#x2F;&#x2F;gitee.com&#x2F;buujun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:wangbj27@mail2.sysu.edu.cn" title="E-Mail → mailto:wangbj27@mail2.sysu.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=0&id=7323360894&auto=1&height=66"></iframe><div class="sidebar-line"></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> 近期文章</div><ul class="links-of-blogroll-list"><li><a href="/2022/cdo/04-pandas-data_loading/" title="数据分析-04-Pandas-数据读写" target="_blank">数据分析-04-Pandas-数据读写</a></li><li><a href="/2022/cdo/03-pandas_04/" title="数据分析-03-Pandas Pt.4" target="_blank">数据分析-03-Pandas Pt.4</a></li><li><a href="/2022/cdo/03-pandas_03/" title="数据分析-03-Pandas Pt.3" target="_blank">数据分析-03-Pandas Pt.3</a></li><li><a href="/2022/cdo/03-pandas_02/" title="数据分析-03-Pandas Pt.2" target="_blank">数据分析-03-Pandas Pt.2</a></li><li><a href="/2022/cdo/03-pandas_01/" title="数据分析-03-Pandas Pt.1" target="_blank">数据分析-03-Pandas Pt.1</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner index posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/hello-world/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/hello-world/" class="post-title-link" itemprop="url">Welcome to BUUJUN's Blog!</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-thumb-tack"></i> </span><span class="post-meta-item-text">Top</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-29 17:47:23" itemprop="dateCreated datePublished" datetime="2022-07-29T17:47:23Z">2022-07-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-07-30 13:24:29" itemprop="dateModified" datetime="2022-07-30T13:24:29Z">2022-07-30</time></span></div></div></header><div class="post-body" itemprop="articleBody"><p>大家好呀，欢迎来到我的博客！我是大气科学（Atmosphere Science）专业的一名在读研究生，目前所做的工作主要涉及 <strong>人工智能</strong> 和 <strong>气候预测</strong> ，所以我的博客内容也将围绕气象数据处理（ CDO 和 Python）、统计计算和动力方程诊断（Python）、图形绘制（ Matplotlib 和 Cartopy）、深度学习（PyTorch）、模式模拟（ WRF 和 CESM）和文献阅读等方面展开，欢迎大家阅读和讨论！</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/04-pandas-data_loading/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/04-pandas-data_loading/" class="post-title-link" itemprop="url">数据分析-04-Pandas-数据读写</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 16:23:07 / 修改时间：10:31:13" itemprop="dateCreated datePublished" datetime="2022-07-31T16:23:07Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="读文件">读文件</h2><h3 id="pdread_csv-path-sep-header-index_col-names-skiprows-na_values-nrows-chunksize-encoding-"><strong><em>pd.read_csv( path, sep, header, index_col, names, skiprows, na_values, nrows, chunksize, encoding )</em></strong></h3><blockquote><p><strong><em>path</em></strong> : 文件位置<br><strong><em>sep</em></strong> : 对每行各字段进行拆分的字符序列<br><strong><em>header</em></strong> : 用作列名的行号, 默认为 0 , 没有标题行设为 None<br><strong><em>names</em></strong> : 用作设置列名的 list<br><strong><em>index_col</em></strong> : 用作索引的列标签, 可以是单个或多个列名组成的 list<br><strong><em>skiprows</em></strong> : 需要忽略的行号的 list<br><strong><em>na_values</em></strong> : 用作替换缺失值 NaN 的 list 或 dict<br><strong><em>nrows</em></strong> : 需要读取的行数<br><strong><em>chunksize</em></strong> : 返回分块读取的迭代器<br><strong><em>encoding</em></strong> : 用作 unicode 的文本编码格式</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex1.csv'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><h4 id="header--处理没有标题行的文件"><strong><em>header</em></strong> : 处理没有标题行的文件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex2.csv'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>hello</th></tr></thead><tbody><tr><th>0</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>1</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><p>header = None</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex2.csv'</span>, header=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><p>names = list</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex2.csv'</span>, names=[<span class="string">'q'</span>, <span class="string">'w'</span>, <span class="string">'e'</span>, <span class="string">'r'</span>, <span class="string">'message'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>q</th><th>w</th><th>e</th><th>r</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><h4 id="index_col--设置索引"><strong><em>index_col</em></strong> : 设置索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex2.csv'</span>, </span><br><span class="line">            names=[<span class="string">'q'</span>, <span class="string">'w'</span>, <span class="string">'e'</span>, <span class="string">'r'</span>, <span class="string">'message'</span>], </span><br><span class="line">            index_col=<span class="string">'message'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>q</th><th>w</th><th>e</th><th>r</th></tr><tr><th>message</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>hello</th><td>1</td><td>2</td><td>3</td><td>4</td></tr><tr><th>world</th><td>5</td><td>6</td><td>7</td><td>8</td></tr><tr><th>foo</th><td>9</td><td>10</td><td>11</td><td>12</td></tr></tbody></table></div><p>层次化索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/csv_mindex.csv'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>key1</th><th>key2</th><th>value1</th><th>value2</th></tr></thead><tbody><tr><th>0</th><td>one</td><td>a</td><td>1</td><td>2</td></tr><tr><th>1</th><td>one</td><td>b</td><td>3</td><td>4</td></tr><tr><th>2</th><td>one</td><td>c</td><td>5</td><td>6</td></tr><tr><th>3</th><td>one</td><td>d</td><td>7</td><td>8</td></tr><tr><th>4</th><td>two</td><td>a</td><td>9</td><td>10</td></tr><tr><th>5</th><td>two</td><td>b</td><td>11</td><td>12</td></tr><tr><th>6</th><td>two</td><td>c</td><td>13</td><td>14</td></tr><tr><th>7</th><td>two</td><td>d</td><td>15</td><td>16</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/csv_mindex.csv'</span>, index_col=[<span class="string">'key1'</span>, <span class="string">'key2'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th></th><th>value1</th><th>value2</th></tr><tr><th>key1</th><th>key2</th><th></th><th></th></tr></thead><tbody><tr><th rowspan="4" valign="top">one</th><th>a</th><td>1</td><td>2</td></tr><tr><th>b</th><td>3</td><td>4</td></tr><tr><th>c</th><td>5</td><td>6</td></tr><tr><th>d</th><td>7</td><td>8</td></tr><tr><th rowspan="4" valign="top">two</th><th>a</th><td>9</td><td>10</td></tr><tr><th>b</th><td>11</td><td>12</td></tr><tr><th>c</th><td>13</td><td>14</td></tr><tr><th>d</th><td>15</td><td>16</td></tr></tbody></table></div><h4 id="skiprows--跳行"><strong><em>skiprows</em></strong> : 跳行</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">open</span>(<span class="string">'pydata-book-2nd-edition/examples/ex4.csv'</span>))</span><br></pre></td></tr></table></figure><p>['# hey!',<br>'a,b,c,d,message',<br>'# just wanted to make things more difficult for you',<br>'# who reads CSV files with computers, anyway?',<br>'1,2,3,4,hello',<br>'5,6,7,8,world',<br>'9,10,11,12,foo']</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex4.csv'</span>, skiprows=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment"># 跳过第1、3、4行</span></span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><h4 id="na_values--处理缺失值"><strong><em>na_values</em></strong> : 处理缺失值</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">open</span>(<span class="string">'pydata-book-2nd-edition/examples/ex5.csv'</span>))</span><br></pre></td></tr></table></figure><p>['something,a,b,c,d,message',<br>'one,1,2,3,4,NA',<br>'two,5,6,,8,world',<br>'three,9,10,11,12,foo']</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex5.csv'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>something</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>one</td><td>1</td><td>2</td><td>3.0</td><td>4</td><td>NaN</td></tr><tr><th>1</th><td>two</td><td>5</td><td>6</td><td>NaN</td><td>8</td><td>world</td></tr><tr><th>2</th><td>three</td><td>9</td><td>10</td><td>11.0</td><td>12</td><td>foo</td></tr></tbody></table></div><p>na_value = dic/list</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex5.csv'</span>, na_values=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>something</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>NaN</td><td>1</td><td>2</td><td>3.0</td><td>4</td><td>NaN</td></tr><tr><th>1</th><td>NaN</td><td>5</td><td>6</td><td>NaN</td><td>8</td><td>world</td></tr><tr><th>2</th><td>NaN</td><td>9</td><td>10</td><td>11.0</td><td>12</td><td>foo</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典的各列可以使用不同的 NaN 标记值</span></span><br><span class="line">sentinels = {<span class="string">'message'</span>: [<span class="string">'foo'</span>, <span class="string">'NA'</span>], <span class="string">'something'</span>: [<span class="string">'two'</span>]}  </span><br><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex5.csv'</span>, na_values=sentinels)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>something</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>one</td><td>1</td><td>2</td><td>3.0</td><td>4</td><td>NaN</td></tr><tr><th>1</th><td>NaN</td><td>5</td><td>6</td><td>NaN</td><td>8</td><td>world</td></tr><tr><th>2</th><td>three</td><td>9</td><td>10</td><td>11.0</td><td>12</td><td>NaN</td></tr></tbody></table></div><h3 id="pdread_table-path-sep--"><strong><em>pd.read_table( path, sep, ... )</em></strong></h3><h4 id="sep--分隔符"><strong><em>sep</em></strong> : 分隔符</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_table(<span class="string">'pydata-book-2nd-edition/examples/ex1.csv'</span>, sep=<span class="string">','</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>(<span class="built_in">open</span>(<span class="string">'pydata-book-2nd-edition/examples/ex3.txt'</span>))</span><br></pre></td></tr></table></figure><p>[' A B C',<br>'aaa -0.264438 -1.026059 -0.619500',<br>'bbb 0.927272 0.302904 -0.032399',<br>'ccc -0.264273 -0.386314 -0.217601',<br>'ddd -0.871858 -0.348382 1.100491']</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.read_table(<span class="string">'pydata-book-2nd-edition/examples/ex3.txt'</span>, sep=<span class="string">'\s+'</span>)</span><br><span class="line"><span class="comment"># 由于列名比数据行的数量少, 所以 read_table 推断第一列应该是 DataFrame 的索引</span></span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><th>aaa</th><td>-0.264438</td><td>-1.026059</td><td>-0.619500</td></tr><tr><th>bbb</th><td>0.927272</td><td>0.302904</td><td>-0.032399</td></tr><tr><th>ccc</th><td>-0.264273</td><td>-0.386314</td><td>-0.217601</td></tr><tr><th>ddd</th><td>-0.871858</td><td>-0.348382</td><td>1.100491</td></tr></tbody></table></div><h2 id="逐块读取文件">逐块读取文件</h2><h3 id="pdread_csv-path-nrows-"><strong><em>pd.read_csv( path, nrows )</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex6.csv'</span>, nrows=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th><th>key</th></tr></thead><tbody><tr><th>0</th><td>0.467976</td><td>-0.038649</td><td>-0.295344</td><td>-1.824726</td><td>L</td></tr><tr><th>1</th><td>-0.358893</td><td>1.404453</td><td>0.704965</td><td>-0.200638</td><td>B</td></tr><tr><th>2</th><td>-0.501840</td><td>0.659254</td><td>-0.421691</td><td>-0.057688</td><td>G</td></tr><tr><th>3</th><td>0.204886</td><td>1.074134</td><td>1.388361</td><td>-0.982404</td><td>R</td></tr><tr><th>4</th><td>0.354628</td><td>-0.133116</td><td>0.283763</td><td>-0.837063</td><td>Q</td></tr></tbody></table></div><h3 id="pdread_csv-path-chunksize---迭代器"><strong><em>pd.read_csv( path, chunksize )</em></strong> : 迭代器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chunker = pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex6.csv'</span>, chunksize=<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 设置分块大小为1000行</span></span><br><span class="line">tot = pd.Series([])</span><br><span class="line"><span class="keyword">for</span> piece <span class="keyword">in</span> chunker:</span><br><span class="line">    <span class="comment"># 1000行分块</span></span><br><span class="line">    tot = tot.add(piece[<span class="string">'key'</span>].value_counts(), fill_value=<span class="number">0</span>)  </span><br><span class="line">    <span class="comment"># piece['key'].value_counts() : 返回一个 series</span></span><br><span class="line">    <span class="comment"># 计算 key 中各值出现的次数</span></span><br><span class="line"></span><br><span class="line">tot = tot.sort_values(ascending=<span class="literal">False</span>)</span><br><span class="line">tot[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure><p><ipython-input-19-c6c0008a71bc>:3: DeprecationWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.<br>tot = pd.Series([])</ipython-input-19-c6c0008a71bc></p><p>E 368.0<br>X 364.0<br>L 346.0<br>O 343.0<br>Q 340.0<br>M 338.0<br>J 337.0<br>F 335.0<br>K 334.0<br>H 330.0<br>dtype: float64</p><h2 id="写文件">写文件</h2><h3 id="framesto_csv-path-sep-na_rep-index-header-columns-"><strong><em>frames.to_csv( path, sep, na_rep, index, header, columns )</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(<span class="string">'pydata-book-2nd-edition/examples/ex5.csv'</span>)</span><br><span class="line">data</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>something</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>one</td><td>1</td><td>2</td><td>3.0</td><td>4</td><td>NaN</td></tr><tr><th>1</th><td>two</td><td>5</td><td>6</td><td>NaN</td><td>8</td><td>world</td></tr><tr><th>2</th><td>three</td><td>9</td><td>10</td><td>11.0</td><td>12</td><td>foo</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.to_csv(<span class="string">'pydata-book-2nd-edition/examples/out.csv'</span>)</span><br></pre></td></tr></table></figure><h4 id="sep--分隔符号"><strong><em>sep</em></strong> : 分隔符号</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.to_csv(sys.stdout, sep=<span class="string">'|'</span> )</span><br><span class="line"><span class="comment"># 直接写出到 sys.stdout , 所以仅仅是打印出文本结果而已</span></span><br></pre></td></tr></table></figure><p>|something|a|b|c|d|message<br>0|one|1|2|3.0|4|<br>1|two|5|6||8|world<br>2|three|9|10|11.0|12|foo</p><h4 id="na_rep--缺失值"><strong><em>na_rep</em></strong> : 缺失值</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.to_csv(sys.stdout, na_rep=<span class="string">'-9999'</span>)</span><br></pre></td></tr></table></figure><p>,something,a,b,c,d,message<br>0,one,1,2,3.0,4,-9999<br>1,two,5,6,-9999,8,world<br>2,three,9,10,11.0,12,foo</p><h4 id="index-header--索引-列标题的控制"><strong><em>index, header</em></strong> : 索引, 列标题的控制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.to_csv(sys.stdout, index=<span class="literal">False</span>, header=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>one,1,2,3.0,4,<br>two,5,6,,8,world<br>three,9,10,11.0,12,foo</p><h4 id="columns--输出指定的行或列"><strong><em>columns</em></strong> : 输出指定的行或列</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.to_csv(sys.stdout, index=<span class="literal">False</span>, columns=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure><p>a,b,c<br>1,2,3.0<br>5,6,<br>9,10,11.0</p><h3 id="seriesto_csv-path-"><strong><em>series.to_csv( path )</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dates = pd.date_range(<span class="string">'1/1/2000'</span>, periods=<span class="number">7</span>)</span><br><span class="line">obj = pd.Series(np.arange(<span class="number">7</span>), index=dates)</span><br><span class="line">obj.to_csv(sys.stdout)</span><br></pre></td></tr></table></figure><p>,0<br>2000-01-01,0<br>2000-01-02,1<br>2000-01-03,2<br>2000-01-04,3<br>2000-01-05,4<br>2000-01-06,5<br>2000-01-07,6</p><h2 id="读写-excel-文件">读写 Excel 文件</h2><h3 id="pdexcelfile-path---pdread_excel-excelfile-sheet_name-"><strong><em>pd.ExcelFile( path ) + pd.read_excel( ExcelFile, sheet_name )</em></strong></h3><blockquote><p>读取一个文件的多个 sheet 时, 先创建 ExcelFile 传递路径, 然后使用 read_excel 读取, 速度更快</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xlsx = pd.ExcelFile(<span class="string">'pydata-book-2nd-edition/examples/ex1.xlsx'</span>)</span><br><span class="line">pd.read_excel(xlsx, <span class="string">'Sheet1'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Unnamed: 0</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>1</td><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>2</td><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><h3 id="pdread_excel-path-sheet_name-"><strong><em>pd.read_excel( path, sheet_name )</em></strong></h3><blockquote><p>直接传递文件路径到 pd.read_excel 中</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_excel(<span class="string">'pydata-book-2nd-edition/examples/ex1.xlsx'</span>, <span class="string">'Sheet1'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Unnamed: 0</th><th>a</th><th>b</th><th>c</th><th>d</th><th>message</th></tr></thead><tbody><tr><th>0</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>hello</td></tr><tr><th>1</th><td>1</td><td>5</td><td>6</td><td>7</td><td>8</td><td>world</td></tr><tr><th>2</th><td>2</td><td>9</td><td>10</td><td>11</td><td>12</td><td>foo</td></tr></tbody></table></div><h3 id="pdexcelwriter-path---frameto_excel-excelwriter-sheet_name---excelwritersave-"><strong><em>pd.ExcelWriter( path ) + frame.to_excel( ExcelWriter, sheet_name ) + ExcelWriter.save( )</em></strong></h3><blockquote><p>首先创建 ExcelWriter , 然后使用 to_excel 方法将数据写入到其中</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.read_excel(<span class="string">'pydata-book-2nd-edition/examples/ex1.xlsx'</span>, <span class="string">'Sheet1'</span>)</span><br><span class="line">writer = pd.ExcelWriter(<span class="string">'pydata-book-2nd-edition/examples/ex2.xlsx'</span>)</span><br><span class="line">frame.to_excel(writer, <span class="string">'Sheet1'</span>)</span><br><span class="line">writer.save()</span><br></pre></td></tr></table></figure><h3 id="frameto_excel-path-sheet_name-"><strong><em>frame.to_excel( path, sheet_name )</em></strong></h3><blockquote><p>直接传递文件路径到 to_excel 中</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.to_excel(<span class="string">'pydata-book-2nd-edition/examples/ex2.xlsx'</span>, <span class="string">'Sheet1'</span>)</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/03-pandas_04/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/03-pandas_04/" class="post-title-link" itemprop="url">数据分析-03-Pandas Pt.4</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 16:11:16 / 修改时间：10:30:37" itemprop="dateCreated datePublished" datetime="2022-07-31T16:11:16Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br></pre></td></tr></table></figure><h2 id="统计计算">统计计算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame([[<span class="number">1</span>, np.nan], [<span class="number">2</span>, <span class="number">4</span>],</span><br><span class="line">                      [np.nan, np.nan], [<span class="number">3</span>, <span class="number">5</span>]],</span><br><span class="line">                    index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>],</span><br><span class="line">                    columns=[<span class="string">'one'</span>, <span class="string">'two'</span>])</span><br></pre></td></tr></table></figure><h3 id="objsum-axis-skipna-level---求和"><strong><em>obj.sum( axis, skipna, level )</em></strong> : 求和</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>5.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure><p>one 6.0<br>two 9.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>a 1.0<br>b 6.0<br>c 0.0<br>d 8.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.<span class="built_in">sum</span>(axis=<span class="number">1</span>, skipna=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>a NaN<br>b 6.0<br>c NaN<br>d 8.0<br>dtype: float64</p><h3 id="objmean-axis-skipna-level---求平均数"><strong><em>obj.mean( axis, skipna, level )</em></strong> : 求平均数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.mean()</span><br></pre></td></tr></table></figure><p>one 2.0<br>two 4.5<br>dtype: float64</p><h3 id="objmedian-axis-skipna-level---求中位数"><strong><em>obj.median( axis, skipna, level )</em></strong> : 求中位数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.median()</span><br></pre></td></tr></table></figure><p>one 2.0<br>two 4.5<br>dtype: float64</p><h3 id="objmad-axis-skipna-level---求绝对离差-frac1nsumx-overlinex"><strong><em>obj.mad( axis, skipna, level )</em></strong> : 求绝对离差 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.798ex" xmlns="http://www.w3.org/2000/svg" width="11.711ex" height="2.755ex" role="img" focusable="false" viewbox="0 -864.9 5176 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1030.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(2253.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"/></g><g data-mml-node="mi" transform="translate(2531.6,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(3325.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(4326,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="mo" transform="translate(4898,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.mad()</span><br></pre></td></tr></table></figure><p>one 0.666667<br>two 0.500000<br>dtype: float64</p><h3 id="objvar-axis-skipna-level---求方差-frac1nsumx-overlinex2"><strong><em>obj.var( axis, skipna, level )</em></strong> : 求方差 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.798ex" xmlns="http://www.w3.org/2000/svg" width="12.823ex" height="2.755ex" role="img" focusable="false" viewbox="0 -864.9 5667.9 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1030.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(2086.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2475.9,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(3270.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(4270.4,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="msup" transform="translate(4842.4,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.var()</span><br></pre></td></tr></table></figure><p>one 1.0<br>two 0.5<br>dtype: float64</p><h3 id="objstd-axis-skipna-level---求标准差-sqrtfrac1nsumx-overlinex2"><strong><em>obj.std( axis, skipna, level )</em></strong> : 求标准差 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-1.304ex" xmlns="http://www.w3.org/2000/svg" width="15.131ex" height="4.208ex" role="img" focusable="false" viewbox="0 -1283.6 6687.9 1860"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(1020,0)"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1030.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(2086.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2475.9,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(3270.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(4270.4,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="msup" transform="translate(4842.4,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g><g data-mml-node="mo" transform="translate(0,73.6)"><path data-c="221A" d="M1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150Z"/></g><rect width="5667.9" height="60" x="1020" y="1163.6"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.std()</span><br></pre></td></tr></table></figure><p>one 1.000000<br>two 0.707107<br>dtype: float64</p><h3 id="objskew-axis-skipna-level---求偏度-fracfrac1nsumx-overlinex3sigma3"><strong><em>obj.skew( axis, skipna, level )</em></strong> : 求偏度 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.87ex" xmlns="http://www.w3.org/2000/svg" width="9.352ex" height="3.588ex" role="img" focusable="false" viewbox="0 -1201.1 4133.6 1585.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220,589.5) scale(0.707)"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1030.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(2086.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2475.9,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(3047.9,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(3825.9,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="msup" transform="translate(4397.9,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"/></g></g></g><g data-mml-node="msup" transform="translate(1710.6,-376.9) scale(0.707)"><g data-mml-node="mi"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"/></g><g data-mml-node="mn" transform="translate(604,289) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"/></g></g><rect width="3893.6" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.skew()</span><br></pre></td></tr></table></figure><p>one 0.0<br>two NaN<br>dtype: float64</p><h3 id="objkurt-axis-skipna-level---求峰度-fracfrac1nsumx-overlinex4sigma4"><strong><em>obj.kurt( axis, skipna, level )</em></strong> : 求峰度 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.884ex" xmlns="http://www.w3.org/2000/svg" width="9.352ex" height="3.601ex" role="img" focusable="false" viewbox="0 -1201.1 4133.6 1591.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220,589.5) scale(0.707)"><g data-mml-node="mfrac"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(1030.9,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(2086.9,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2475.9,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(3047.9,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(3825.9,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="msup" transform="translate(4397.9,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,363) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"/></g></g></g><g data-mml-node="msup" transform="translate(1710.6,-382.9) scale(0.707)"><g data-mml-node="mi"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"/></g><g data-mml-node="mn" transform="translate(604,289) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"/></g></g><rect width="3893.6" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]).kurt()</span><br></pre></td></tr></table></figure><p>0 -0.7<br>dtype: float64</p><h3 id="objquantile-q-axis---求分位数二分位四分位四分之三分位--"><strong><em>obj.quantile( q, axis )</em></strong> : 求分位数（二分位、四分位、四分之三分位 ... ）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame, frame.quantile(<span class="number">0.5</span>), frame.mean()</span><br></pre></td></tr></table></figure><p>( one two<br>a 1.0 NaN<br>b 2.0 4.0<br>c NaN NaN<br>d 3.0 5.0,<br>one 2.0<br>two 4.5<br>Name: 0.5, dtype: float64,<br>one 2.0<br>two 4.5<br>dtype: float64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.quantile(<span class="number">0.75</span>) - frame.quantile(<span class="number">0.25</span>) <span class="comment">### 离差IQR</span></span><br></pre></td></tr></table></figure><p>one 1.0<br>two 0.5<br>dtype: float64</p><h3 id="objcumsum-axis-skipna-level--objcumprod-axis-skipna-level---累加-累乘"><strong><em>obj.cumsum( axis, skipna, level ), obj.cumprod( axis, skipna, level )</em></strong> : 累加, 累乘</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>5.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.cumsum()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>3.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>6.0</td><td>9.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.cumprod()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>6.0</td><td>20.0</td></tr></tbody></table></div><h3 id="objcummin-axis-skipna-level--objcummax-axis-skipna-level---累计最小值和累计最大值"><strong><em>obj.cummin( axis, skipna, level ), obj.cummax( axis, skipna, level )</em></strong> : 累计最小值和累计最大值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.cummax()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>5.0</td></tr></tbody></table></div><h3 id="objidmax-axis-skipna-level--objidmin-axis-skipna-level---返回最大值或最小值的索引"><strong><em>obj.idmax( axis, skipna, level ), obj.idmin( axis, skipna, level )</em></strong> : 返回最大值或最小值的索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>5.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.idxmax()</span><br></pre></td></tr></table></figure><p>one d<br>two d<br>dtype: object</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.idxmax(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>a one<br>b two<br>c NaN<br>d two<br>dtype: object</p><h3 id="objdescribe---返回多个汇总统计"><strong><em>obj.describe( )</em></strong> : 返回多个汇总统计</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>a</th><td>1.0</td><td>NaN</td></tr><tr><th>b</th><td>2.0</td><td>4.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>5.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.describe()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th></tr></thead><tbody><tr><th>count</th><td>3.0</td><td>2.000000</td></tr><tr><th>mean</th><td>2.0</td><td>4.500000</td></tr><tr><th>std</th><td>1.0</td><td>0.707107</td></tr><tr><th>min</th><td>1.0</td><td>4.000000</td></tr><tr><th>25%</th><td>1.5</td><td>4.250000</td></tr><tr><th>50%</th><td>2.0</td><td>4.500000</td></tr><tr><th>75%</th><td>2.5</td><td>4.750000</td></tr><tr><th>max</th><td>3.0</td><td>5.000000</td></tr></tbody></table></div><h4 id="对于非数值类型">对于非数值类型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>] * <span class="number">4</span>)</span><br><span class="line">obj.head(), obj.describe()</span><br></pre></td></tr></table></figure><p>(0 a<br>1 a<br>2 b<br>3 c<br>4 a<br>dtype: object,<br>count 16<br>unique 3<br>top a<br>freq 8<br>dtype: object)</p><h3 id="series1cov-series2--framecov---计算协方差-covx-y--frac1nsumx-overlinexy-overliney"><strong><em>series1.cov( series2 ), frame.cov( )</em></strong> : 计算协方差 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.798ex" xmlns="http://www.w3.org/2000/svg" width="31.953ex" height="2.755ex" role="img" focusable="false" viewbox="0 -864.9 14123 1217.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(760,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(1245,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(1730,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2119,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"/></g><g data-mml-node="mo" transform="translate(2971,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(3415.7,0)"><path data-c="1D44C" d="M66 637Q54 637 49 637T39 638T32 641T30 647T33 664T42 682Q44 683 56 683Q104 680 165 680Q288 680 306 683H316Q322 677 322 674T320 656Q316 643 310 637H298Q242 637 242 624Q242 619 292 477T343 333L346 336Q350 340 358 349T379 373T411 410T454 461Q546 568 561 587T577 618Q577 634 545 637Q528 637 528 647Q528 649 530 661Q533 676 535 679T549 683Q551 683 578 682T657 680Q684 680 713 681T746 682Q763 682 763 673Q763 669 760 657T755 643Q753 637 734 637Q662 632 617 587Q608 578 477 424L348 273L322 169Q295 62 295 57Q295 46 363 46Q379 46 384 45T390 35Q390 33 388 23Q384 6 382 4T366 1Q361 1 324 1T232 2Q170 2 138 2T102 1Q84 1 84 9Q84 14 87 24Q88 27 89 30T90 35T91 39T93 42T96 44T101 45T107 45T116 46T129 46Q168 47 180 50T198 63Q201 68 227 171L252 274L129 623Q128 624 127 625T125 627T122 629T118 631T113 633T105 634T96 635T83 636T66 637Z"/></g><g data-mml-node="mo" transform="translate(4178.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(4845.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(5901.2,0)"><g data-mml-node="mn" transform="translate(255.4,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></g><rect width="624.3" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(6932.2,0)"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(7988.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(8377.2,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(9171.4,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(10171.6,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="mo" transform="translate(10743.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(11132.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(11521.6,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(12233.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(13234,0)"><g data-mml-node="mi" transform="translate(5,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"/></g></g><g data-mml-node="mo" transform="translate(13734,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据准备</span></span><br><span class="line">price = pd.read_pickle(<span class="string">'pydata-book-2nd-edition/examples/yahoo_price.pkl'</span>) <span class="comment">#股票价格</span></span><br><span class="line">volume = pd.read_pickle(<span class="string">'pydata-book-2nd-edition/examples/yahoo_volume.pkl'</span>) <span class="comment">#股票成交量</span></span><br><span class="line">returns = price.pct_change() <span class="comment">#计算变化率 : (后一个值 - 前一个值) / 前一个值</span></span><br><span class="line">returns</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>AAPL</th><th>GOOG</th><th>IBM</th><th>MSFT</th></tr><tr><th>Date</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>2010-01-04</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>2010-01-05</th><td>0.001729</td><td>-0.004404</td><td>-0.012080</td><td>0.000323</td></tr><tr><th>2010-01-06</th><td>-0.015906</td><td>-0.025209</td><td>-0.006496</td><td>-0.006137</td></tr><tr><th>2010-01-07</th><td>-0.001849</td><td>-0.023280</td><td>-0.003462</td><td>-0.010400</td></tr><tr><th>2010-01-08</th><td>0.006648</td><td>0.013331</td><td>0.010035</td><td>0.006897</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>2016-10-17</th><td>-0.000680</td><td>0.001837</td><td>0.002072</td><td>-0.003483</td></tr><tr><th>2016-10-18</th><td>-0.000681</td><td>0.019616</td><td>-0.026168</td><td>0.007690</td></tr><tr><th>2016-10-19</th><td>-0.002979</td><td>0.007846</td><td>0.003583</td><td>-0.002255</td></tr><tr><th>2016-10-20</th><td>-0.000512</td><td>-0.005652</td><td>0.001719</td><td>-0.004867</td></tr><tr><th>2016-10-21</th><td>-0.003930</td><td>0.003011</td><td>-0.012474</td><td>0.042096</td></tr></tbody></table><p>1714 rows × 4 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns[<span class="string">'MSFT'</span>].cov(returns[<span class="string">'IBM'</span>])</span><br></pre></td></tr></table></figure><p>8.870655479703546e-05</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns.cov()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>AAPL</th><th>GOOG</th><th>IBM</th><th>MSFT</th></tr></thead><tbody><tr><th>AAPL</th><td>0.000277</td><td>0.000107</td><td>0.000078</td><td>0.000095</td></tr><tr><th>GOOG</th><td>0.000107</td><td>0.000251</td><td>0.000078</td><td>0.000108</td></tr><tr><th>IBM</th><td>0.000078</td><td>0.000078</td><td>0.000146</td><td>0.000089</td></tr><tr><th>MSFT</th><td>0.000095</td><td>0.000108</td><td>0.000089</td><td>0.000215</td></tr></tbody></table></div><h3 id="series1corr-series2--framecorr---计算相关系数-rho--fraccovx-ysigma_xsigma_y--fracsumx-overlinexy-overlineysqrtsumx-overlinex2sqrtsumy-overliney2"><strong><em>series1.corr( series2 ), frame.corr( )</em></strong> : 计算相关系数 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-1.654ex" xmlns="http://www.w3.org/2000/svg" width="33.112ex" height="4.037ex" role="img" focusable="false" viewbox="0 -1053.5 14635.4 1784.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70C" d="M58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322Z"/></g><g data-mml-node="mo" transform="translate(794.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(1850.6,0)"><g data-mml-node="mrow" transform="translate(220,516.8) scale(0.707)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g><g data-mml-node="mi" transform="translate(760,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(1245,0)"><path data-c="1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"/></g><g data-mml-node="mo" transform="translate(1730,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(2119,0)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"/></g><g data-mml-node="mo" transform="translate(2971,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"/></g><g data-mml-node="mi" transform="translate(3249,0)"><path data-c="1D44C" d="M66 637Q54 637 49 637T39 638T32 641T30 647T33 664T42 682Q44 683 56 683Q104 680 165 680Q288 680 306 683H316Q322 677 322 674T320 656Q316 643 310 637H298Q242 637 242 624Q242 619 292 477T343 333L346 336Q350 340 358 349T379 373T411 410T454 461Q546 568 561 587T577 618Q577 634 545 637Q528 637 528 647Q528 649 530 661Q533 676 535 679T549 683Q551 683 578 682T657 680Q684 680 713 681T746 682Q763 682 763 673Q763 669 760 657T755 643Q753 637 734 637Q662 632 617 587Q608 578 477 424L348 273L322 169Q295 62 295 57Q295 46 363 46Q379 46 384 45T390 35Q390 33 388 23Q384 6 382 4T366 1Q361 1 324 1T232 2Q170 2 138 2T102 1Q84 1 84 9Q84 14 87 24Q88 27 89 30T90 35T91 39T93 42T96 44T101 45T107 45T116 46T129 46Q168 47 180 50T198 63Q201 68 227 171L252 274L129 623Q128 624 127 625T125 627T122 629T118 631T113 633T105 634T96 635T83 636T66 637Z"/></g><g data-mml-node="mo" transform="translate(4012,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g><g data-mml-node="mrow" transform="translate(909.8,-345) scale(0.707)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"/></g><g data-mml-node="mi" transform="translate(604,-150) scale(0.707)"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"/></g></g><g data-mml-node="msub" transform="translate(1256.5,0)"><g data-mml-node="mi"><path data-c="1D70E" d="M184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278Z"/></g><g data-mml-node="mi" transform="translate(604,-150) scale(0.707)"><path data-c="1D44C" d="M66 637Q54 637 49 637T39 638T32 641T30 647T33 664T42 682Q44 683 56 683Q104 680 165 680Q288 680 306 683H316Q322 677 322 674T320 656Q316 643 310 637H298Q242 637 242 624Q242 619 292 477T343 333L346 336Q350 340 358 349T379 373T411 410T454 461Q546 568 561 587T577 618Q577 634 545 637Q528 637 528 647Q528 649 530 661Q533 676 535 679T549 683Q551 683 578 682T657 680Q684 680 713 681T746 682Q763 682 763 673Q763 669 760 657T755 643Q753 637 734 637Q662 632 617 587Q608 578 477 424L348 273L322 169Q295 62 295 57Q295 46 363 46Q379 46 384 45T390 35Q390 33 388 23Q384 6 382 4T366 1Q361 1 324 1T232 2Q170 2 138 2T102 1Q84 1 84 9Q84 14 87 24Q88 27 89 30T90 35T91 39T93 42T96 44T101 45T107 45T116 46T129 46Q168 47 180 50T198 63Q201 68 227 171L252 274L129 623Q128 624 127 625T125 627T122 629T118 631T113 633T105 634T96 635T83 636T66 637Z"/></g></g></g><rect width="3312" height="60" x="120" y="220"/></g><g data-mml-node="mo" transform="translate(5680.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(6736.1,0)"><g data-mml-node="mrow" transform="translate(1721.6,516.8) scale(0.707)"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(1056,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1445,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(2017,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(2795,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="mo" transform="translate(3367,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(3756,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4145,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(4635,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(5413,0)"><g data-mml-node="mi" transform="translate(5,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"/></g></g><g data-mml-node="mo" transform="translate(5913,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g><g data-mml-node="mrow" transform="translate(220,-534.7) scale(0.707)"><g data-mml-node="msqrt"><g transform="translate(1020,0)"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(1056,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1445,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(2017,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(2795,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><svg width="572" height="237" x="0" y="148" viewbox="143 148 572 237"><path data-c="2013" d="M0 248V285H499V248H0Z" transform="scale(1.716,1)"/></svg></g></g><g data-mml-node="msup" transform="translate(3367,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g><g data-mml-node="mo" transform="translate(0,54.9)"><path data-c="221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"/></g><rect width="4192.6" height="42.4" x="1020" y="862.5"/></g><g data-mml-node="mo" transform="translate(5212.6,0)"><path data-c="B7" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"/></g><g data-mml-node="msqrt" transform="translate(5490.6,0)"><g transform="translate(1020,0)"><g data-mml-node="mo"><path data-c="2211" d="M61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748Z"/></g><g data-mml-node="mo" transform="translate(1056,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1445,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(1935,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mover" transform="translate(2713,0)"><g data-mml-node="mi" transform="translate(5,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mo" transform="translate(0,374)"><path data-c="2013" d="M0 248V285H499V248H0Z"/></g></g><g data-mml-node="msup" transform="translate(3213,0)"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mn" transform="translate(422,289) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"/></g></g></g><g data-mml-node="mo" transform="translate(0,54.9)"><path data-c="221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"/></g><rect width="4038.6" height="42.4" x="1020" y="862.5"/></g></g><rect width="7659.3" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns[<span class="string">'MSFT'</span>].corr(returns[<span class="string">'IBM'</span>])</span><br></pre></td></tr></table></figure><p>0.4997636114415114</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns.corr()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>AAPL</th><th>GOOG</th><th>IBM</th><th>MSFT</th></tr></thead><tbody><tr><th>AAPL</th><td>1.000000</td><td>0.407919</td><td>0.386817</td><td>0.389695</td></tr><tr><th>GOOG</th><td>0.407919</td><td>1.000000</td><td>0.405099</td><td>0.465919</td></tr><tr><th>IBM</th><td>0.386817</td><td>0.405099</td><td>1.000000</td><td>0.499764</td></tr><tr><th>MSFT</th><td>0.389695</td><td>0.465919</td><td>0.499764</td><td>1.000000</td></tr></tbody></table></div><h3 id="obj1corrwith-obj2-axis---计算-obj1-与-obj2-对应行或列的相关系数"><strong><em>obj1.corrwith( obj2, axis )</em></strong> : 计算 obj1 与 obj2 对应行或列的相关系数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns.corrwith(returns.IBM)</span><br></pre></td></tr></table></figure><p>AAPL 0.386817<br>GOOG 0.405099<br>IBM 1.000000<br>MSFT 0.499764<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns.corrwith(volume) <span class="comment"># 一一对应</span></span><br></pre></td></tr></table></figure><p>AAPL -0.075565<br>GOOG -0.007067<br>IBM -0.204849<br>MSFT -0.092950<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">returns.T.corrwith(volume.T, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>AAPL -0.075565<br>GOOG -0.007067<br>IBM -0.204849<br>MSFT -0.092950<br>dtype: float64</p><h3 id="seriesunique-series2---得到-series-唯一值数组"><strong><em>series.unique( series2 )</em></strong> : 得到 series 唯一值数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj.unique()</span><br></pre></td></tr></table></figure><p>array(['c', 'a', 'd', 'b'], dtype=object)</p><h3 id="objisin-list---判断-obj-的元素是否在-list-中"><strong><em>obj.isin( list )</em></strong> : 判断 obj 的元素是否在 list 中</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame([[<span class="number">1</span>, np.nan], [<span class="number">2</span>, <span class="number">4</span>],</span><br><span class="line">                   [np.nan, np.nan], [<span class="number">3</span>, <span class="number">5</span>]],</span><br><span class="line">                  index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>],</span><br><span class="line">                  columns=[<span class="string">'one'</span>, <span class="string">'two'</span>])</span><br><span class="line">frame, frame.isin([<span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure><p>( one two<br>a 1.0 NaN<br>b 2.0 4.0<br>c NaN NaN<br>d 3.0 5.0,<br>one two<br>a True False<br>b True False<br>c False False<br>d False False)</p><h3 id="objvalue_counts-normalize-sort---计算-obj-中各值出现的频率"><strong><em>obj.value_counts( normalize, sort )</em></strong> : 计算 obj 中各值出现的频率</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj.value_counts()</span><br></pre></td></tr></table></figure><p>c 3<br>a 3<br>b 2<br>d 1<br>dtype: int64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame([[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>],</span><br><span class="line">                      [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>]],</span><br><span class="line">                     index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>],</span><br><span class="line">                     columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'thr'</span>])</span><br><span class="line">frame, frame.value_counts()</span><br></pre></td></tr></table></figure><p>( one two thr<br>a 1 3 5<br>b 2 4 6<br>c 1 3 6<br>d 2 4 6,<br>one two thr<br>2 4 6 2<br>1 3 5 1<br>6 1<br>dtype: int64)</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/03-pandas_03/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/03-pandas_03/" class="post-title-link" itemprop="url">数据分析-03-Pandas Pt.3</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 16:11:15 / 修改时间：10:30:37" itemprop="dateCreated datePublished" datetime="2022-07-31T16:11:15Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br></pre></td></tr></table></figure><h2 id="算术运算与数据对齐">算术运算与数据对齐</h2><h3 id="-------"><strong><em>+</em></strong> , <strong><em>-</em></strong> , ******* , <strong><em>/</em></strong></h3><blockquote><p>在将对象相加时如果索引对不同, 则结果的索引就是索引对的并集</p></blockquote><p>自动的数据对齐操作在不重叠的索引处引入了 NaN 值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = pd.Series([<span class="number">7.3</span>, -<span class="number">2.5</span>, <span class="number">3.4</span>, <span class="number">1.5</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">s2 = pd.Series([-<span class="number">2.1</span>, <span class="number">3.6</span>, -<span class="number">1.5</span>, <span class="number">4</span>, <span class="number">3.1</span>],</span><br><span class="line">               index=[<span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>])</span><br><span class="line">s1, s2</span><br></pre></td></tr></table></figure><pre><code>(a    7.3
 b   -2.5
 c    3.4
 d    1.5
 dtype: float64,
 c   -2.1
 d    3.6
 e   -1.5
 f    4.0
 g    3.1
 dtype: float64)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1+s2</span><br></pre></td></tr></table></figure><pre><code>a    NaN
b    NaN
c    1.3
d    5.1
e    NaN
f    NaN
g    NaN
dtype: float64</code></pre><p>对于 DataFrame , 对齐操作会同时发生在行和列上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.arange(<span class="number">9.</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)), columns=<span class="built_in">list</span>(<span class="string">'bcd'</span>),</span><br><span class="line">                   index=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Colorado'</span>])</span><br><span class="line">df2 = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)), columns=<span class="built_in">list</span>(<span class="string">'cde'</span>),</span><br><span class="line">                   index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">df1, df2</span><br></pre></td></tr></table></figure><pre><code>(            b    c    d
 Ohio      0.0  1.0  2.0
 Texas     3.0  4.0  5.0
 Colorado  6.0  7.0  8.0,
           c     d     e
 Utah    0.0   1.0   2.0
 Ohio    3.0   4.0   5.0
 Texas   6.0   7.0   8.0
 Oregon  9.0  10.0  11.0)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1+df2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>c</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Colorado</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>Ohio</th><td>NaN</td><td>4.0</td><td>6.0</td><td>NaN</td></tr><tr><th>Oregon</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>Texas</th><td>NaN</td><td>10.0</td><td>12.0</td><td>NaN</td></tr><tr><th>Utah</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr></tbody></table></div><h3 id="df1add-df2-fill_value--等算术运算函数"><strong><em>df1.add( df2, fill_value )</em></strong> 等算术运算函数</h3><blockquote><p>算术运算中的缺失值 : <strong><em>fill_value</em></strong> : 当一个对象中某个位置在另一个对象中找不到时填充一个指定值</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.add(df2, fill_value=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>c</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Colorado</th><td>6.0</td><td>7.0</td><td>8.0</td><td>NaN</td></tr><tr><th>Ohio</th><td>0.0</td><td>4.0</td><td>6.0</td><td>5.0</td></tr><tr><th>Oregon</th><td>NaN</td><td>9.0</td><td>10.0</td><td>11.0</td></tr><tr><th>Texas</th><td>3.0</td><td>10.0</td><td>12.0</td><td>8.0</td></tr><tr><th>Utah</th><td>NaN</td><td>0.0</td><td>1.0</td><td>2.0</td></tr></tbody></table></div><h3 id="算数算法">算数算法</h3><table><thead><tr class="header"><th><strong>类型</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr class="odd"><td><em>add, radd</em></td><td>用于加法（+）运算</td></tr><tr class="even"><td><em>sub, rsub</em></td><td>用于减法（-）运算</td></tr><tr class="odd"><td><em>div, rdiv</em></td><td>用于除法（/）运算</td></tr><tr class="even"><td><em>floordiv, rfloordiv</em></td><td>用于整除（//）运算</td></tr><tr class="odd"><td><em>mod, rmod</em></td><td>用于取余（%）运算</td></tr><tr class="even"><td><em>divmod, rdivmod</em></td><td>用于取整和取余（// 和 %）运算</td></tr><tr class="odd"><td><em>mul, rmul</em></td><td>用于乘法（*）运算</td></tr><tr class="even"><td><em>pow, rpow</em></td><td>用于指数（**）运算</td></tr></tbody></table><h3 id="div-与-rdiv-的区别"><strong><em>div</em></strong> 与 <strong><em>rdiv</em></strong> 的区别</h3><blockquote><p><strong><em>df1.div(df2)</em></strong> : df1/df2 ; <strong><em>df1.rdiv(df2)</em></strong> : df2/df1</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 = pd.Series(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>)), index=<span class="built_in">list</span>(<span class="string">'abcde'</span>))</span><br><span class="line">s2 = pd.Series(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">4</span>,<span class="number">9</span>)), index=<span class="built_in">list</span>(<span class="string">'cdefg'</span>))</span><br><span class="line">s1, s2</span><br></pre></td></tr></table></figure><p>(a 1<br>b 2<br>c 3<br>d 4<br>e 5<br>dtype: int64,<br>c 4<br>d 5<br>e 6<br>f 7<br>g 8<br>dtype: int64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1.mod(s2), s1.rmod(s2)  <span class="comment"># s1/s2, s2/s1</span></span><br></pre></td></tr></table></figure><p>(a NaN<br>b NaN<br>c 3.0<br>d 4.0<br>e 5.0<br>f NaN<br>g NaN<br>dtype: float64,<br>a NaN<br>b NaN<br>c 1.0<br>d 1.0<br>e 1.0<br>f NaN<br>g NaN<br>dtype: float64)</p><h2 id="dataframe-与-series-之间的运算">DataFrame 与 Series 之间的运算</h2><blockquote><p>广播</p></blockquote><h3 id="匹配列索引-columns--在行上广播-">匹配列索引 columns , 在行上广播 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.009ex" role="img" focusable="false" viewbox="0 -694 500 888"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2193" d="M473 86Q483 86 483 67Q483 63 483 61T483 56T481 53T480 50T478 48T474 47T470 46T464 44Q428 35 391 14T316 -55T264 -168Q264 -170 263 -173T262 -180T261 -184Q259 -194 251 -194Q242 -194 238 -176T221 -121T180 -49Q169 -34 155 -21T125 2T95 20T67 33T44 42T27 47L21 49Q17 53 17 67Q17 87 28 87Q33 87 42 84Q158 52 223 -45L230 -55V312Q230 391 230 482T229 591Q229 662 231 676T243 693Q244 694 251 694Q264 692 270 679V-55L277 -45Q307 1 353 33T430 76T473 86Z"/></g></g></g></svg></mjx-container></span></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),</span><br><span class="line">                     columns=<span class="built_in">list</span>(<span class="string">'bde'</span>),</span><br><span class="line">                     index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">series = frame.iloc[<span class="number">0</span>]</span><br><span class="line">frame, series</span><br></pre></td></tr></table></figure><p>( b d e<br>Utah 0.0 1.0 2.0<br>Ohio 3.0 4.0 5.0<br>Texas 6.0 7.0 8.0<br>Oregon 9.0 10.0 11.0,<br>b 0.0<br>d 1.0<br>e 2.0<br>Name: Utah, dtype: float64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame-series</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>0.0</td><td>0.0</td><td>0.0</td></tr><tr><th>Ohio</th><td>3.0</td><td>3.0</td><td>3.0</td></tr><tr><th>Texas</th><td>6.0</td><td>6.0</td><td>6.0</td></tr><tr><th>Oregon</th><td>9.0</td><td>9.0</td><td>9.0</td></tr></tbody></table></div><p>参与运算的两个对象的索引不重合时, 形成并集</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">series2 = pd.Series(<span class="built_in">range</span>(<span class="number">3</span>), index=[<span class="string">'b'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>])</span><br><span class="line">frame + series2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th><th>f</th></tr></thead><tbody><tr><th>Utah</th><td>0.0</td><td>NaN</td><td>3.0</td><td>NaN</td></tr><tr><th>Ohio</th><td>3.0</td><td>NaN</td><td>6.0</td><td>NaN</td></tr><tr><th>Texas</th><td>6.0</td><td>NaN</td><td>9.0</td><td>NaN</td></tr><tr><th>Oregon</th><td>9.0</td><td>NaN</td><td>12.0</td><td>NaN</td></tr></tbody></table></div><h3 id="匹配行索引-index--在列上广播-">匹配行索引 index , 在列上广播 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewbox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"/></g></g></g></svg></mjx-container></span></h3><p><strong><em>frame.sub(series, axis)</em></strong> : 匹配轴 axis 进行广播, 其他算数运算函数同理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),</span><br><span class="line">                     columns=<span class="built_in">list</span>(<span class="string">'bde'</span>),</span><br><span class="line">                     index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">series3 = frame[<span class="string">'d'</span>]</span><br><span class="line">frame, series3</span><br></pre></td></tr></table></figure><p>( b d e<br>Utah 0.0 1.0 2.0<br>Ohio 3.0 4.0 5.0<br>Texas 6.0 7.0 8.0<br>Oregon 9.0 10.0 11.0,<br>Utah 1.0<br>Ohio 4.0<br>Texas 7.0<br>Oregon 10.0<br>Name: d, dtype: float64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sub(series3, axis=<span class="string">'index'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>-1.0</td><td>0.0</td><td>1.0</td></tr><tr><th>Ohio</th><td>-1.0</td><td>0.0</td><td>1.0</td></tr><tr><th>Texas</th><td>-1.0</td><td>0.0</td><td>1.0</td></tr><tr><th>Oregon</th><td>-1.0</td><td>0.0</td><td>1.0</td></tr></tbody></table></div><h2 id="函数应用与映射">函数应用与映射</h2><h3 id="numpy-函数的应用">Numpy 函数的应用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.random.randn(<span class="number">4</span>, <span class="number">3</span>), columns=<span class="built_in">list</span>(<span class="string">'bde'</span>),</span><br><span class="line">                     index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>1.014427</td><td>-0.171110</td><td>-0.209578</td></tr><tr><th>Ohio</th><td>0.384411</td><td>0.098477</td><td>0.425979</td></tr><tr><th>Texas</th><td>0.618812</td><td>-0.087757</td><td>0.498332</td></tr><tr><th>Oregon</th><td>0.329589</td><td>-1.004679</td><td>0.205972</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.<span class="built_in">abs</span>(frame)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>1.014427</td><td>0.171110</td><td>0.209578</td></tr><tr><th>Ohio</th><td>0.384411</td><td>0.098477</td><td>0.425979</td></tr><tr><th>Texas</th><td>0.618812</td><td>0.087757</td><td>0.498332</td></tr><tr><th>Oregon</th><td>0.329589</td><td>1.004679</td><td>0.205972</td></tr></tbody></table></div><h3 id="frameapply-func-axis---将函数应用到各列或各行所形成的一维数组上"><strong><em>frame.apply( func, axis )</em></strong> : 将函数应用到各列或各行所形成的一维数组上</h3><blockquote><p>默认对 index 进行操作 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.439ex" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="2.009ex" role="img" focusable="false" viewbox="0 -694 500 888"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2193" d="M473 86Q483 86 483 67Q483 63 483 61T483 56T481 53T480 50T478 48T474 47T470 46T464 44Q428 35 391 14T316 -55T264 -168Q264 -170 263 -173T262 -180T261 -184Q259 -194 251 -194Q242 -194 238 -176T221 -121T180 -49Q169 -34 155 -21T125 2T95 20T67 33T44 42T27 47L21 49Q17 53 17 67Q17 87 28 87Q33 87 42 84Q158 52 223 -45L230 -55V312Q230 391 230 482T229 591Q229 662 231 676T243 693Q244 694 251 694Q264 692 270 679V-55L277 -45Q307 1 353 33T430 76T473 86Z"/></g></g></g></svg></mjx-container></span>, axis='columns' 时对 columns 进行操作 <span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.025ex" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewbox="0 -511 1000 522"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"/></g></g></g></svg></mjx-container></span></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame =  pd.DataFrame(np.random.randn(<span class="number">4</span>, <span class="number">3</span>), columns=<span class="built_in">list</span>(<span class="string">'bde'</span>),</span><br><span class="line">                     index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>-0.504649</td><td>-0.773222</td><td>3.765686</td></tr><tr><th>Ohio</th><td>-1.138202</td><td>0.029167</td><td>0.841352</td></tr><tr><th>Texas</th><td>-0.649582</td><td>0.596585</td><td>-0.854243</td></tr><tr><th>Oregon</th><td>-0.353114</td><td>1.173491</td><td>-1.507888</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="keyword">lambda</span> x: x.<span class="built_in">max</span>() - x.<span class="built_in">min</span>()  <span class="comment"># func_name = lambda vars_in: vars_out </span></span><br><span class="line">frame.apply(f), frame.apply(f, axis=<span class="string">'columns'</span>)  <span class="comment"># f(frame)</span></span><br></pre></td></tr></table></figure><p>(b 0.785088<br>d 1.946713<br>e 5.273573<br>dtype: float64,<br>Utah 4.538908<br>Ohio 1.979554<br>Texas 1.450828<br>Oregon 2.681378<br>dtype: float64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> x.<span class="built_in">max</span>()-x.<span class="built_in">min</span>()</span><br><span class="line">frame.apply(f)</span><br></pre></td></tr></table></figure><p>b 0.785088<br>d 1.946713<br>e 5.273573<br>dtype: float64</p><p>计算各列/各行的最大值和最小值<br>&gt; 对各行/列操作的返回的结果可以是由多个值组成的 Series</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> pd.Series([x.<span class="built_in">min</span>(), x.<span class="built_in">max</span>()], index=[<span class="string">'min'</span>, <span class="string">'max'</span>])</span><br><span class="line">frame.apply(f)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>min</th><td>-1.138202</td><td>-0.773222</td><td>-1.507888</td></tr><tr><th>max</th><td>-0.353114</td><td>1.173491</td><td>3.765686</td></tr></tbody></table></div><h3 id="frameapplymap-func---将函数映射到对象中的各个元素进行操作"><strong><em>frame.applymap( func )</em></strong> : 将函数映射到对象中的各个元素进行操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>-0.504649</td><td>-0.773222</td><td>3.765686</td></tr><tr><th>Ohio</th><td>-1.138202</td><td>0.029167</td><td>0.841352</td></tr><tr><th>Texas</th><td>-0.649582</td><td>0.596585</td><td>-0.854243</td></tr><tr><th>Oregon</th><td>-0.353114</td><td>1.173491</td><td>-1.507888</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmap = <span class="keyword">lambda</span> x: <span class="string">'%.2f'</span> % (x*<span class="number">10</span>) <span class="comment"># 只保留两位小数</span></span><br><span class="line">frame.applymap(fmap)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>d</th><th>e</th></tr></thead><tbody><tr><th>Utah</th><td>-5.05</td><td>-7.73</td><td>37.66</td></tr><tr><th>Ohio</th><td>-11.38</td><td>0.29</td><td>8.41</td></tr><tr><th>Texas</th><td>-6.50</td><td>5.97</td><td>-8.54</td></tr><tr><th>Oregon</th><td>-3.53</td><td>11.73</td><td>-15.08</td></tr></tbody></table></div><h2 id="排序">排序</h2><h3 id="objsort_index-axis-ascending---按索引排序"><strong><em>obj.sort_index( axis, ascending )</em></strong> : 按索引排序</h3><blockquote><p>ascending : 是否按升序排序</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(<span class="built_in">range</span>(<span class="number">4</span>), index=[<span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj.sort_index()</span><br></pre></td></tr></table></figure><p>a 1<br>b 2<br>c 3<br>d 0<br>dtype: int64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">8</span>).reshape((<span class="number">2</span>, <span class="number">4</span>)),</span><br><span class="line">                     index=[<span class="string">'three'</span>, <span class="string">'one'</span>],</span><br><span class="line">                     columns=[<span class="string">'d'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>d</th><th>a</th><th>b</th><th>c</th></tr></thead><tbody><tr><th>three</th><td>0</td><td>1</td><td>2</td><td>3</td></tr><tr><th>one</th><td>4</td><td>5</td><td>6</td><td>7</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>d</th><th>a</th><th>b</th><th>c</th></tr></thead><tbody><tr><th>one</th><td>4</td><td>5</td><td>6</td><td>7</td></tr><tr><th>three</th><td>0</td><td>1</td><td>2</td><td>3</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>a</th><th>b</th><th>c</th><th>d</th></tr></thead><tbody><tr><th>three</th><td>1</td><td>2</td><td>3</td><td>0</td></tr><tr><th>one</th><td>5</td><td>6</td><td>7</td><td>4</td></tr></tbody></table></div><h4 id="降序">降序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_index(axis=<span class="number">1</span>, ascending=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>d</th><th>c</th><th>b</th><th>a</th></tr></thead><tbody><tr><th>three</th><td>0</td><td>3</td><td>2</td><td>1</td></tr><tr><th>one</th><td>4</td><td>7</td><td>6</td><td>5</td></tr></tbody></table></div><h3 id="objsort_values-by---按值排序"><strong><em>obj.sort_values( by )</em></strong> : 按值排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4</span>, <span class="number">7</span>, -<span class="number">3</span>, <span class="number">2</span>])</span><br><span class="line">obj.sort_values()</span><br></pre></td></tr></table></figure><p>2 -3<br>3 2<br>0 4<br>1 7<br>dtype: int64</p><h4 id="在排序时-任何缺失值默认都会被放到末尾">在排序时, 任何缺失值默认都会被放到末尾</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4</span>, np.nan, <span class="number">7</span>, np.nan, -<span class="number">3</span>, <span class="number">2</span>])</span><br><span class="line">obj.sort_values()</span><br></pre></td></tr></table></figure><p>4 -3.0<br>5 2.0<br>0 4.0<br>2 7.0<br>1 NaN<br>3 NaN<br>dtype: float64</p><h4 id="排序dataframe时-将一个或多个列的名字传递给-by-选项可以-根据一个或多个列的值排序">排序DataFrame时, 将一个或多个列的名字传递给 <strong><em>by</em></strong> 选项可以 根据一个或多个列的值排序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame({<span class="string">'b'</span>: [<span class="number">4</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">2</span>], <span class="string">'a'</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], <span class="string">'c'</span>: [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]})</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>a</th><th>c</th></tr></thead><tbody><tr><th>0</th><td>4</td><td>0</td><td>4</td></tr><tr><th>1</th><td>7</td><td>1</td><td>3</td></tr><tr><th>2</th><td>2</td><td>0</td><td>2</td></tr><tr><th>3</th><td>2</td><td>1</td><td>1</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_values(by=<span class="string">'b'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>a</th><th>c</th></tr></thead><tbody><tr><th>2</th><td>2</td><td>0</td><td>2</td></tr><tr><th>3</th><td>2</td><td>1</td><td>1</td></tr><tr><th>0</th><td>4</td><td>0</td><td>4</td></tr><tr><th>1</th><td>7</td><td>1</td><td>3</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sort_values(by=[<span class="string">'b'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>a</th><th>c</th></tr></thead><tbody><tr><th>3</th><td>2</td><td>1</td><td>1</td></tr><tr><th>2</th><td>2</td><td>0</td><td>2</td></tr><tr><th>0</th><td>4</td><td>0</td><td>4</td></tr><tr><th>1</th><td>7</td><td>1</td><td>3</td></tr></tbody></table></div><h3 id="objrank-axis-ascending-method---返回各组的平均排名"><strong><em>obj.rank( axis, ascending, method )</em></strong> : 返回各组的平均排名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">7</span>, -<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">4</span>])</span><br><span class="line">obj.rank()</span><br></pre></td></tr></table></figure><p>0 6.5<br>1 1.0<br>2 6.5<br>3 4.5<br>4 3.0<br>5 2.0<br>6 4.5<br>dtype: float64</p><h4 id="methodfirst--根据值在原数据中出现的顺序给出排名"><strong><em>method='first'</em></strong> : 根据值在原数据中出现的顺序给出排名</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(method=<span class="string">'first'</span>)</span><br></pre></td></tr></table></figure><p>0 6.0<br>1 1.0<br>2 7.0<br>3 4.0<br>4 3.0<br>5 2.0<br>6 5.0<br>dtype: float64</p><h4 id="按降序排序">按降序排序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj.rank(ascending=<span class="literal">False</span>, method=<span class="string">'min'</span>)  <span class="comment"># 并列第一、并列第三...</span></span><br></pre></td></tr></table></figure><p>0 1.0<br>1 7.0<br>2 1.0<br>3 3.0<br>4 5.0<br>5 6.0<br>6 3.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame({<span class="string">'b'</span>: [<span class="number">4.3</span>, <span class="number">7</span>, -<span class="number">3</span>, <span class="number">2</span>], <span class="string">'a'</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">                      <span class="string">'c'</span>: [-<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, -<span class="number">2.5</span>]})</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>a</th><th>c</th></tr></thead><tbody><tr><th>0</th><td>4.3</td><td>0</td><td>-2.0</td></tr><tr><th>1</th><td>7.0</td><td>1</td><td>5.0</td></tr><tr><th>2</th><td>-3.0</td><td>0</td><td>8.0</td></tr><tr><th>3</th><td>2.0</td><td>1</td><td>-2.5</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.rank(axis=<span class="string">'columns'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>b</th><th>a</th><th>c</th></tr></thead><tbody><tr><th>0</th><td>3.0</td><td>2.0</td><td>1.0</td></tr><tr><th>1</th><td>3.0</td><td>1.0</td><td>2.0</td></tr><tr><th>2</th><td>1.0</td><td>2.0</td><td>3.0</td></tr><tr><th>3</th><td>3.0</td><td>2.0</td><td>1.0</td></tr></tbody></table></div><h4 id="method-选项"><strong><em>method</em></strong> 选项</h4><table><thead><tr class="header"><th><strong>类型</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr class="odd"><td><em>average</em></td><td>给相等的分组分配平均排名（默认）</td></tr><tr class="even"><td><em>min</em></td><td>给相等的分组分配最小排名</td></tr><tr class="odd"><td><em>max</em></td><td>给相等的分组分配最大排名</td></tr><tr class="even"><td><em>first</em></td><td>对相等的分组按出现顺序排名</td></tr><tr class="odd"><td><em>dense</em></td><td>类似于 min , 但是组间排名总是相差1</td></tr></tbody></table></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/03-pandas_02/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/03-pandas_02/" class="post-title-link" itemprop="url">数据分析-03-Pandas Pt.2</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 16:11:14 / 修改时间：10:30:37" itemprop="dateCreated datePublished" datetime="2022-07-31T16:11:14Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br></pre></td></tr></table></figure><h2 id="pandas-的索引对象--index">pandas 的索引对象 —— <strong><em>index</em></strong></h2><h3 id="index-对象"><strong><em>index</em></strong> 对象</h3><p><strong><em>Index([ ... ], dtype='object')</em></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(<span class="built_in">range</span>(<span class="number">3</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">index = obj.index</span><br><span class="line">index, obj.index</span><br></pre></td></tr></table></figure><pre><code>(Index(['a', 'b', 'c'], dtype='object'),
 Index(['a', 'b', 'c'], dtype='object'))</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index[<span class="number">1</span>], index[<span class="number">1</span>:]</span><br></pre></td></tr></table></figure><pre><code>('b', Index(['b', 'c'], dtype='object'))</code></pre><p>Index 对象不可进行切片赋值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#index[1:] = pd.Index(['d', 'e'])  # Error</span></span><br></pre></td></tr></table></figure><h3 id="pdindex-object-"><strong><em>pd.Index( object )</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">labels = pd.Index(np.arange(<span class="number">3</span>))</span><br><span class="line">obj2 = pd.Series([<span class="number">1.5</span>, -<span class="number">2.5</span>, <span class="number">0</span>], index=labels)</span><br><span class="line">obj2.index <span class="keyword">is</span> labels</span><br></pre></td></tr></table></figure><pre><code>True</code></pre><h3 id="frameindex--framecolumns"><strong><em>frame.index</em></strong> , <strong><em>frame.columns</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(frame3)</span><br><span class="line">frame3.index, frame3.columns</span><br></pre></td></tr></table></figure><pre><code>state  Nevada  Ohio
year               
2001      2.4   1.7
2002      2.9   3.6
2000      NaN   1.5





(Int64Index([2001, 2002, 2000], dtype='int64', name='year'),
 Index(['Nevada', 'Ohio'], dtype='object', name='state'))</code></pre><h3 id="index1append-index2---连接-index1-和-index2--产生一个新的-index-对象-index1-index2"><strong><em>index1.append( index2 )</em></strong> : 连接 index1 和 index2 , 产生一个新的 Index 对象 [index1, index2]</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index1 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>)))</span><br><span class="line">index3 = index1.append(index2)</span><br><span class="line">index1, index2, index3</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'),
 Int64Index([0, 1, 2], dtype='int64'),
 Int64Index([2, 3, 4, 0, 1, 2], dtype='int64'))</code></pre><h3 id="index1difference-index2---计算两个-index-的差值-index1-index2-得到一个-index"><strong><em>index1.difference( index2 )</em></strong> : 计算两个 Index 的差值 index1-index2, 得到一个 Index</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index1 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>)))</span><br><span class="line">index3 = index1.difference(index2)  <span class="comment"># index1-index2</span></span><br><span class="line">index1, index2, index3</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'),
 Int64Index([0, 1, 2], dtype='int64'),
 Int64Index([3, 4], dtype='int64'))</code></pre><h3 id="index1intersection-index2---计算交集"><strong><em>index1.intersection( index2 )</em></strong> : 计算交集</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index1 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>)))</span><br><span class="line">index3 = index1.intersection(index2)  </span><br><span class="line">index1, index2, index3</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'),
 Int64Index([0, 1, 2], dtype='int64'),
 Int64Index([2], dtype='int64'))</code></pre><h3 id="index1union-index2---计算并集"><strong><em>index1.union( index2 )</em></strong> : 计算并集</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index1 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>)))</span><br><span class="line">index3 = index1.union(index2)  </span><br><span class="line">index1, index2, index3</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'),
 Int64Index([0, 1, 2], dtype='int64'),
 Int64Index([0, 1, 2, 3, 4], dtype='int64'))</code></pre><h3 id="indexisin-object---判断-index-中的各值是否在-object-中"><strong><em>index.isin( object )</em></strong> : 判断 index 中的各值是否在 object 中</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">obj = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">4</span>))</span><br><span class="line">index, obj, index1.isin(obj)</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'),
 [0, 1, 2, 3],
 array([ True,  True, False]))</code></pre><h3 id="indexdelete-loc---删除-index-中-loc-处的元素-并返回一个新的索引"><strong><em>index.delete( loc )</em></strong> : 删除 index 中 loc 处的元素, 并返回一个新的索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = index.delete(<span class="number">1</span>)</span><br><span class="line">index, index2</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'), Int64Index([2, 4], dtype='int64'))</code></pre><h3 id="indexdrop-labels---删除传入的值-labels--并返回一个新的索引"><strong><em>index.drop( labels )</em></strong> : 删除传入的值 labels , 并返回一个新的索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = index.drop([<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">index, index2</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'), Int64Index([4], dtype='int64'))</code></pre><h3 id="indexinsert-loc-item---将元素-item-插入到位置-loc-处--并返回一个新的索引"><strong><em>index.insert( loc, item )</em></strong> : 将元素 item 插入到位置 loc 处 , 并返回一个新的索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index2 = index.insert(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">index, index2</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'), Int64Index([2, 3, 2, 4], dtype='int64'))</code></pre><h3 id="indexis_monotonic--判断-index-是否是升序排列"><strong><em>index.is_monotonic</em></strong> : 判断 index 是否是升序排列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index, index.is_monotonic</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'), True)</code></pre><h3 id="indexis_unique--判断-index-是否有重复值"><strong><em>index.is_unique</em></strong> : 判断 index 是否有重复值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>)))</span><br><span class="line">index, index.is_unique</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([2, 3, 4], dtype='int64'), True)</code></pre><h3 id="indexunique---计算-index-中唯一值的数组"><strong><em>index.unique( )</em></strong> : 计算 index 中唯一值的数组</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line">index, index.unique()</span><br></pre></td></tr></table></figure><pre><code>(Int64Index([1, 1, 2, 2, 3, 3, 5], dtype='int64'),
 Int64Index([1, 2, 3, 5], dtype='int64'))</code></pre><h2 id="重新索引--reindex">重新索引 : <strong><em>reindex</em></strong></h2><h3 id="objreindex-index---根据新索引重新排列"><strong><em>obj.reindex( index )</em></strong> : 根据新索引重新排列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4.5</span>, <span class="number">7.2</span>, -<span class="number">5.3</span>, <span class="number">3.6</span>], index=[<span class="string">'d'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>])</span><br><span class="line">obj2 = obj.reindex([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">obj, obj2</span><br></pre></td></tr></table></figure><pre><code>(d    4.5
 b    7.2
 a   -5.3
 c    3.6
 dtype: float64,
 a   -5.3
 b    7.2
 c    3.6
 d    4.5
 e    NaN
 dtype: float64)</code></pre><h3 id="objreindex-index-method---填充方式"><strong><em>obj.reindex( index, method )</em></strong> : 填充方式</h3><h4 id="method--ffill--前向值填充"><strong><em>method = 'ffill'</em></strong> : 前向值填充</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj3 = pd.Series([<span class="string">'blue'</span>, <span class="string">'purple'</span>, <span class="string">'yellow'</span>], index=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>])</span><br><span class="line">obj3, obj3.reindex(<span class="built_in">range</span>(<span class="number">7</span>), method=<span class="string">'ffill'</span>)</span><br></pre></td></tr></table></figure><pre><code>(0      blue
 2    purple
 4    yellow
 dtype: object,
 0      blue
 1      blue
 2    purple
 3    purple
 4    yellow
 5    yellow
 6    yellow
 dtype: object)</code></pre><h4 id="method--bfill--后向值填充"><strong><em>method = 'bfill'</em></strong> : 后向值填充</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj3.reindex(<span class="built_in">range</span>(<span class="number">7</span>), method=<span class="string">'bfill'</span>)</span><br></pre></td></tr></table></figure><pre><code>0      blue
1    purple
2    purple
3    yellow
4    yellow
5       NaN
6       NaN
dtype: object</code></pre><h3 id="framereindex-index-columns---会重新索引行和列-其中列用-columns-重新索引"><strong><em>frame.reindex( index, columns )</em></strong> : 会重新索引行和列, 其中列用 columns 重新索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),</span><br><span class="line">                     index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>],</span><br><span class="line">                     columns=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'California'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Ohio</th><th>Texas</th><th>California</th></tr></thead><tbody><tr><th>a</th><td>0</td><td>1</td><td>2</td></tr><tr><th>c</th><td>3</td><td>4</td><td>5</td></tr><tr><th>d</th><td>6</td><td>7</td><td>8</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.reindex([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Ohio</th><th>Texas</th><th>California</th></tr></thead><tbody><tr><th>a</th><td>0.0</td><td>1.0</td><td>2.0</td></tr><tr><th>b</th><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>c</th><td>3.0</td><td>4.0</td><td>5.0</td></tr><tr><th>d</th><td>6.0</td><td>7.0</td><td>8.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.reindex([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>], columns=[<span class="string">'California'</span>, <span class="string">'Los'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>California</th><th>Los</th><th>Ohio</th><th>Texas</th></tr></thead><tbody><tr><th>a</th><td>2.0</td><td>NaN</td><td>0.0</td><td>1.0</td></tr><tr><th>b</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>c</th><td>5.0</td><td>NaN</td><td>3.0</td><td>4.0</td></tr><tr><th>d</th><td>8.0</td><td>NaN</td><td>6.0</td><td>7.0</td></tr></tbody></table></div><h3 id="framereindex--fill_value---设置缺失值"><strong><em>frame.reindex( ..., fill_value )</em></strong> : 设置缺失值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),</span><br><span class="line">                     index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>],</span><br><span class="line">                     columns=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'California'</span>])</span><br><span class="line">frame.reindex(index     = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>],</span><br><span class="line">              columns   = [<span class="string">'California'</span>, <span class="string">'Los'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>],  </span><br><span class="line">              fill_value= -<span class="number">9999</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>California</th><th>Los</th><th>Ohio</th><th>Texas</th></tr></thead><tbody><tr><th>a</th><td>2</td><td>-9999</td><td>0</td><td>1</td></tr><tr><th>b</th><td>-9999</td><td>-9999</td><td>-9999</td><td>-9999</td></tr><tr><th>c</th><td>5</td><td>-9999</td><td>3</td><td>4</td></tr><tr><th>d</th><td>-9999</td><td>-9999</td><td>-9999</td><td>-9999</td></tr><tr><th>e</th><td>8</td><td>-9999</td><td>6</td><td>7</td></tr></tbody></table></div><h3 id="framereindex--method-limit---前向或后向填充时的最大填充量"><strong><em>frame.reindex( ..., method, limit )</em></strong> : 前向或后向填充时的最大填充量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),</span><br><span class="line">                     index=[<span class="string">'a'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>],</span><br><span class="line">                     columns=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'California'</span>])</span><br><span class="line">frame.reindex(index = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>],</span><br><span class="line">              method= <span class="string">'ffill'</span>, </span><br><span class="line">              limit = <span class="number">1</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Ohio</th><th>Texas</th><th>California</th></tr></thead><tbody><tr><th>a</th><td>0.0</td><td>1.0</td><td>2.0</td></tr><tr><th>b</th><td>0.0</td><td>1.0</td><td>2.0</td></tr><tr><th>c</th><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>d</th><td>3.0</td><td>4.0</td><td>5.0</td></tr><tr><th>e</th><td>6.0</td><td>7.0</td><td>8.0</td></tr></tbody></table></div><h2 id="丢弃指定轴--drop">丢弃指定轴 : <strong><em>drop</em></strong></h2><h3 id="objdrop-index---删除指定的索引行"><strong><em>obj.drop( index )</em></strong> : 删除指定的索引行</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(np.arange(<span class="number">5.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">obj, obj.drop(index=[<span class="string">'b'</span>, <span class="string">'d'</span>])</span><br></pre></td></tr></table></figure><p>(a 0.0<br>b 1.0<br>c 2.0<br>d 3.0<br>e 4.0<br>dtype: float64,<br>a 0.0<br>c 2.0<br>e 4.0<br>dtype: float64)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)), </span><br><span class="line">                     index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>], </span><br><span class="line">                     columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Ohio</th><td>0</td><td>1</td><td>2</td><td>3</td></tr><tr><th>Colorado</th><td>4</td><td>5</td><td>6</td><td>7</td></tr><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><h3 id="framedrop-labels-axis---删除指定轴-axis-的索引项-labels"><strong><em>frame.drop( labels, axis )</em></strong> : 删除指定轴 axis 的索引项 labels</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.drop(labels=[<span class="string">'Colorado'</span>, <span class="string">'Ohio'</span>], axis=<span class="string">'index'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.drop(labels=[<span class="string">'two'</span>, <span class="string">'four'</span>], axis=<span class="string">'columns'</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>three</th></tr></thead><tbody><tr><th>Ohio</th><td>0</td><td>2</td></tr><tr><th>Colorado</th><td>4</td><td>6</td></tr><tr><th>Utah</th><td>8</td><td>10</td></tr><tr><th>New York</th><td>12</td><td>14</td></tr></tbody></table></div><h3 id="framedrop-index-columns---删除指定的索引行-index-和索引列-columns"><strong><em>frame.drop( index, columns )</em></strong> : 删除指定的索引行 index 和索引列 columns</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.drop(index=[<span class="string">'Colorado'</span>], columns=[<span class="string">'two'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Ohio</th><td>0</td><td>2</td><td>3</td></tr><tr><th>Utah</th><td>8</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>14</td><td>15</td></tr></tbody></table></div><h3 id="framedrop--inplace---inplace-设置为-true-时就地修改对象-frame"><strong><em>frame.drop( ..., inplace )</em></strong> : inplace 设置为 True 时就地修改对象 frame</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(obj)</span><br><span class="line">obj.drop(<span class="string">'c'</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(obj)</span><br></pre></td></tr></table></figure><p>a 0.0<br>b 1.0<br>c 2.0<br>d 3.0<br>e 4.0<br>dtype: float64<br>a 0.0<br>b 1.0<br>d 3.0<br>e 4.0<br>dtype: float64</p><h2 id="切片--obj---loc-和-iloc-整数索引">切片 : <strong><em>obj[ ... ]</em></strong>, <strong><em>loc</em></strong> 和 <strong><em>iloc</em></strong>, 整数索引</h2><h3 id="直接索引--obj---">直接索引 : <strong><em>obj [ ... ]</em></strong></h3><p><strong><em>Series</em></strong> :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series(np.arange(<span class="number">4.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">obj[ [<span class="string">'b'</span>, <span class="string">'a'</span>] ]</span><br></pre></td></tr></table></figure><p>b 1.0<br>a 0.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[ <span class="number">2</span>:<span class="number">4</span> ]</span><br></pre></td></tr></table></figure><p>c 2.0<br>d 3.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[ [<span class="number">1</span>, <span class="number">3</span>] ]</span><br></pre></td></tr></table></figure><p>b 1.0<br>d 3.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>:<span class="string">'c'</span>]  <span class="comment"># 包含末端</span></span><br></pre></td></tr></table></figure><p>b 1.0<br>c 2.0<br>dtype: float64</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[ obj&lt;<span class="number">2</span> ]</span><br></pre></td></tr></table></figure><p>a 0.0<br>b 1.0<br>dtype: float64</p><p><strong><em>DataFrame</em></strong> :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)),</span><br><span class="line">                    index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],</span><br><span class="line">                    columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Ohio</th><td>0</td><td>1</td><td>2</td><td>3</td></tr><tr><th>Colorado</th><td>4</td><td>5</td><td>6</td><td>7</td></tr><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><p>传入单一的元素或者列表可以索引列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame[ [<span class="string">'three'</span>, <span class="string">'one'</span>] ]  <span class="comment"># 索引列</span></span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>three</th><th>one</th></tr></thead><tbody><tr><th>Ohio</th><td>2</td><td>0</td></tr><tr><th>Colorado</th><td>6</td><td>4</td></tr><tr><th>Utah</th><td>10</td><td>8</td></tr><tr><th>New York</th><td>14</td><td>12</td></tr></tbody></table></div><p>传入整数可以索引行, 但是不能单独索引（需要有冒号 : ）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame[ <span class="number">2</span>:<span class="number">3</span> ]  <span class="comment">#索引行</span></span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr></tbody></table></div><p>布尔型索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame[ frame[<span class="string">'three'</span>] &gt; <span class="number">6</span> ]</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><h3 id="利用-loc-和-iloc-进行索引">利用 <strong><em>loc</em></strong> 和 <strong><em>iloc</em></strong> 进行索引</h3><p><strong><em>frame.iloc( index_number, columns_number )</em></strong><br><strong><em>frame.loc( index_labels, columns_labels )</em></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frame = pd.DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)),</span><br><span class="line">                    index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],</span><br><span class="line">                    columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Ohio</th><td>0</td><td>1</td><td>2</td><td>3</td></tr><tr><th>Colorado</th><td>4</td><td>5</td><td>6</td><td>7</td></tr><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.iloc[<span class="number">2</span>:<span class="number">4</span>, [<span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>]]  <span class="comment"># 选取第2、3行，第3、0、1列</span></span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>four</th><th>one</th><th>two</th></tr></thead><tbody><tr><th>Utah</th><td>11</td><td>8</td><td>9</td></tr><tr><th>New York</th><td>15</td><td>12</td><td>13</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.loc[<span class="string">'Utah'</span>:<span class="string">'New York'</span>, [<span class="string">'four'</span>, <span class="string">'one'</span>, <span class="string">'two'</span>]]</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>four</th><th>one</th><th>two</th></tr></thead><tbody><tr><th>Utah</th><td>11</td><td>8</td><td>9</td></tr><tr><th>New York</th><td>15</td><td>12</td><td>13</td></tr></tbody></table></div><p>这两个索引函数也适用于一个标签或 <strong>多个标签</strong> 的切片</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.iloc[:, :][frame.three &gt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>one</th><th>two</th><th>three</th><th>four</th></tr></thead><tbody><tr><th>Colorado</th><td>4</td><td>5</td><td>6</td><td>7</td></tr><tr><th>Utah</th><td>8</td><td>9</td><td>10</td><td>11</td></tr><tr><th>New York</th><td>12</td><td>13</td><td>14</td><td>15</td></tr></tbody></table></div><h3 id="数据索引方式的总结">数据索引方式的总结</h3><table><thead><tr class="header"><th><strong>类型</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr class="odd"><td><em>df[ col_labs ]</em></td><td>通过标签 col_labs , 选取对应的列</td></tr><tr class="even"><td><em>df.loc[ ind_labs ]</em></td><td>通过标签 ind_labs , 选取对应的行</td></tr><tr class="odd"><td><em>df.loc[ :, col_labs ]</em></td><td>通过标签 col_labs , 选取对应的行</td></tr><tr class="even"><td><em>df.loc[ ind_labs, col_labs ]</em></td><td>通过标签, 选取对应的行 ind_labs , 列 col_labs</td></tr><tr class="odd"><td><em>df.iloc[ ind_nums ]</em></td><td>通过整数 ind_nums , 选取对应的行</td></tr><tr class="even"><td><em>df.iloc[ :, col_nums ]</em></td><td>通过整数 col_nums , 选取对应的列</td></tr><tr class="odd"><td><em>df.iloc[ ind_nums, col_nums ]</em></td><td>通过整数, 选取对应的行 ind_nums , 列 col_nums</td></tr><tr class="even"><td><em>df.at[ ind_lab, col_lab ]</em></td><td>通过行列的标签, 选取单一的标量</td></tr><tr class="odd"><td><em>df.iat[ i, j ]</em></td><td>通过行列的位置（整数）, 选取单一的标量</td></tr><tr class="even"><td><em>reindex</em></td><td>通过行列标签, 重塑索引</td></tr><tr class="odd"><td><em>get_value, set_value</em></td><td>通过行列标签, 选取单一值</td></tr></tbody></table></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/03-pandas_01/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/03-pandas_01/" class="post-title-link" itemprop="url">数据分析-03-Pandas Pt.1</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 16:11:13 / 修改时间：10:30:37" itemprop="dateCreated datePublished" datetime="2022-07-31T16:11:13Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br></pre></td></tr></table></figure><h2 id="pandas-的数据结构---series">pandas 的数据结构 - <strong><em>Series</em></strong></h2><h3 id="pdseries-data-index-"><strong><em>pd.Series( data, index )</em></strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = pd.Series([<span class="number">4</span>, <span class="number">7</span>, -<span class="number">5</span>, <span class="number">3</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure><pre><code>0    4
1    7
2   -5
3    3
dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj2 = pd.Series([<span class="number">4</span>, <span class="number">7</span>, -<span class="number">5</span>, <span class="number">3</span>], index=[<span class="string">'q'</span>, <span class="string">'w'</span>, <span class="string">'e'</span>, <span class="string">'r'</span>])</span><br><span class="line">obj2</span><br></pre></td></tr></table></figure><pre><code>q    4
w    7
e   -5
r    3
dtype: int64</code></pre><h4 id="可以通过-series-的-values-和-index-属性获取其数组表示形式和索引对象">可以通过 Series 的 <strong><em>values</em></strong> 和 <strong><em>index</em></strong> 属性获取其数组表示形式和索引对象</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(obj.values)</span><br><span class="line"><span class="built_in">print</span>(obj.index)</span><br><span class="line"><span class="built_in">print</span>(obj2.values)</span><br><span class="line"><span class="built_in">print</span>(obj2.index)</span><br></pre></td></tr></table></figure><pre><code>[ 4  7 -5  3]
RangeIndex(start=0, stop=4, step=1)
[ 4  7 -5  3]
Index(['q', 'w', 'e', 'r'], dtype='object')</code></pre><h4 id="series-的-index-可以通过赋值的方式就地修改">Series 的 <strong><em>index</em></strong> 可以通过赋值的方式就地修改</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj.index = [<span class="string">'Bob'</span>, <span class="string">'Steve'</span>, <span class="string">'Jeff'</span>, <span class="string">'Ryan'</span>]</span><br><span class="line">obj</span><br></pre></td></tr></table></figure><pre><code>Bob      4
Steve    7
Jeff    -5
Ryan     3
dtype: int64</code></pre><h3 id="pdseries-dict---通过字典创建-series"><strong><em>pd.Series( dict )</em></strong> : 通过字典创建 Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sdata = {<span class="string">'Ohio'</span>: <span class="number">35000</span>, <span class="string">'Texas'</span>: <span class="number">71000</span>, <span class="string">'Oregon'</span>: <span class="number">16000</span>, <span class="string">'Utah'</span>: <span class="number">5000</span>}</span><br><span class="line">obj3 = pd.Series(sdata)</span><br><span class="line">obj3</span><br></pre></td></tr></table></figure><pre><code>Ohio      35000
Texas     71000
Oregon    16000
Utah       5000
dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">states = [<span class="string">'California'</span>, <span class="string">'Ohio'</span>, <span class="string">'Oregon'</span>, <span class="string">'Texas'</span>]</span><br><span class="line">obj4 = pd.Series(sdata, index=states)</span><br><span class="line">obj4 <span class="comment"># 没有 'Utah', 但是有 'California'</span></span><br></pre></td></tr></table></figure><pre><code>California        NaN
Ohio          35000.0
Oregon        16000.0
Texas         71000.0
dtype: float64</code></pre><h3 id="pdisnull-obj--pdnotnull-obj---检测缺失数据"><strong><em>pd.isnull( obj ), pd.notnull( obj )</em></strong> : 检测缺失数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.isnull(obj4), pd.notnull(obj4)</span><br></pre></td></tr></table></figure><pre><code>(California     True
 Ohio          False
 Oregon        False
 Texas         False
 dtype: bool,
 California    False
 Ohio           True
 Oregon         True
 Texas          True
 dtype: bool)</code></pre><h3 id="series-的索引与运算">Series 的索引与运算</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj2[<span class="string">'w'</span>], obj2[[<span class="string">'w'</span>]], obj2[[<span class="string">'r'</span>, <span class="string">'q'</span>, <span class="string">'e'</span>]] <span class="comment">#['r', 'q', 'e']: 索引表</span></span><br></pre></td></tr></table></figure><pre><code>(7,
 w    7
 dtype: int64,
 r    3
 q    4
 e   -5
 dtype: int64)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj2[obj2 &gt; <span class="number">0</span>]</span><br></pre></td></tr></table></figure><pre><code>q    4
w    7
r    3
dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj2 * <span class="number">2</span>, np.exp(obj2)</span><br></pre></td></tr></table></figure><pre><code>(q     8
 w    14
 e   -10
 r     6
 dtype: int64,
 q      54.598150
 w    1096.633158
 e       0.006738
 r      20.085537
 dtype: float64)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'q'</span> <span class="keyword">in</span> obj2, <span class="string">'a'</span> <span class="keyword">in</span> obj2</span><br></pre></td></tr></table></figure><pre><code>(True, False)</code></pre><p>运算时, 索引标签会自动对齐</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj3, obj4, obj3+obj4</span><br></pre></td></tr></table></figure><pre><code>(Ohio      35000
 Texas     71000
 Oregon    16000
 Utah       5000
 dtype: int64,
 California        NaN
 Ohio          35000.0
 Oregon        16000.0
 Texas         71000.0
 dtype: float64,
 California         NaN
 Ohio           70000.0
 Oregon         32000.0
 Texas         142000.0
 Utah               NaN
 dtype: float64)</code></pre><h3 id="series-本身及索引都有-name-属性">Series 本身及索引都有 <strong><em>name</em></strong> 属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj4.name = <span class="string">'population'</span></span><br><span class="line">obj4.index.name = <span class="string">'state'</span></span><br><span class="line">obj4</span><br></pre></td></tr></table></figure><pre><code>state
California        NaN
Ohio          35000.0
Oregon        16000.0
Texas         71000.0
Name: population, dtype: float64</code></pre><h2 id="pandas-的数据结构--dataframe">pandas 的数据结构 —— <strong><em>DataFrame</em></strong></h2><h3 id="pddataframe-object---dataframe-的建立"><strong><em>pd.DataFrame( object )</em></strong> : DataFrame 的建立</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接传入一个由等长列表或 NumPy 数组组成的字典</span></span><br><span class="line">data = {<span class="string">'pop'</span>: [<span class="number">1.5</span>, <span class="number">1.7</span>, <span class="number">3.6</span>, <span class="number">2.4</span>, <span class="number">2.9</span>, <span class="number">3.2</span>], </span><br><span class="line">        <span class="string">'state'</span>: [<span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>], </span><br><span class="line">        <span class="string">'year'</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>]</span><br><span class="line">        }</span><br><span class="line">frame = pd.DataFrame(data)</span><br><span class="line">frame</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>pop</th><th>state</th><th>year</th></tr></thead><tbody><tr><th>0</th><td>1.5</td><td>Ohio</td><td>2000</td></tr><tr><th>1</th><td>1.7</td><td>Ohio</td><td>2001</td></tr><tr><th>2</th><td>3.6</td><td>Ohio</td><td>2002</td></tr><tr><th>3</th><td>2.4</td><td>Nevada</td><td>2001</td></tr><tr><th>4</th><td>2.9</td><td>Nevada</td><td>2002</td></tr><tr><th>5</th><td>3.2</td><td>Nevada</td><td>2003</td></tr></tbody></table></div><h3 id="dataframehead-n---对于特别大的-dataframe方法会选取前-n-行"><strong><em>DataFrame.head( n )</em></strong> : 对于特别大的 DataFrame,方法会选取前 n 行</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.head(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>pop</th><th>state</th><th>year</th></tr></thead><tbody><tr><th>0</th><td>1.5</td><td>Ohio</td><td>2000</td></tr><tr><th>1</th><td>1.7</td><td>Ohio</td><td>2001</td></tr><tr><th>2</th><td>3.6</td><td>Ohio</td><td>2002</td></tr></tbody></table></div><h3 id="dataframecolumns--返回-dataframe-的列名"><strong><em>DataFrame.columns</em></strong> : 返回 DataFrame 的列名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.columns</span><br></pre></td></tr></table></figure><p>Index(['pop', 'state', 'year'], dtype='object')</p><h3 id="pddataframe-object--columns---指定列序列-dataframe会按照指定顺序进行排列"><strong><em>pd.DataFrame( object , columns )</em></strong> : 指定列序列, DataFrame会按照指定顺序进行排列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = {<span class="string">'pop'</span>: [<span class="number">1.5</span>, <span class="number">1.7</span>, <span class="number">3.6</span>, <span class="number">2.4</span>, <span class="number">2.9</span>, <span class="number">3.2</span>], </span><br><span class="line">        <span class="string">'state'</span>: [<span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Ohio'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>, <span class="string">'Nevada'</span>], </span><br><span class="line">        <span class="string">'year'</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>]</span><br><span class="line">        }</span><br><span class="line">pd.DataFrame(data, columns=[<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th></tr></thead><tbody><tr><th>0</th><td>2000</td><td>Ohio</td><td>1.5</td></tr><tr><th>1</th><td>2001</td><td>Ohio</td><td>1.7</td></tr><tr><th>2</th><td>2002</td><td>Ohio</td><td>3.6</td></tr><tr><th>3</th><td>2001</td><td>Nevada</td><td>2.4</td></tr><tr><th>4</th><td>2002</td><td>Nevada</td><td>2.9</td></tr><tr><th>5</th><td>2003</td><td>Nevada</td><td>3.2</td></tr></tbody></table></div><h3 id="pddataframe-object--columns--index---指定索引"><strong><em>pd.DataFrame( object , columns , index )</em></strong> : 指定索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame2 = pd.DataFrame(data, columns=[<span class="string">'year'</span>, <span class="string">'state'</span>, <span class="string">'pop'</span>, <span class="string">'debt'</span>], </span><br><span class="line">                            index=data[<span class="string">'year'</span>])</span><br><span class="line">frame2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th><th>debt</th></tr></thead><tbody><tr><th>2000</th><td>2000</td><td>Ohio</td><td>1.5</td><td>NaN</td></tr><tr><th>2001</th><td>2001</td><td>Ohio</td><td>1.7</td><td>NaN</td></tr><tr><th>2002</th><td>2002</td><td>Ohio</td><td>3.6</td><td>NaN</td></tr><tr><th>2001</th><td>2001</td><td>Nevada</td><td>2.4</td><td>NaN</td></tr><tr><th>2002</th><td>2002</td><td>Nevada</td><td>2.9</td><td>NaN</td></tr><tr><th>2003</th><td>2003</td><td>Nevada</td><td>3.2</td><td>NaN</td></tr></tbody></table></div><h3 id="pddataframe-dict---嵌套字典---out1--in1-v11-in2-v12-out2--"><strong><em>pd.DataFrame( dict )</em></strong> : 嵌套字典 : <strong><em>{ 'out1' : {'in1': v11, 'in2': v12}, 'out2': {...} }</em></strong></h3><p>如果嵌套字典传给DataFrame, 字典外层的键作为列, 内层的键则作为行索引</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pop = {<span class="string">'Nevada'</span>: {<span class="number">2001</span>: <span class="number">2.4</span>, <span class="number">2002</span>: <span class="number">2.9</span>}, <span class="string">'Ohio'</span>: {<span class="number">2000</span>: <span class="number">1.5</span>, <span class="number">2001</span>: <span class="number">1.7</span>, <span class="number">2002</span>: <span class="number">3.6</span>}}</span><br><span class="line">pop</span><br></pre></td></tr></table></figure><p>{'Nevada': {2001: 2.4, 2002: 2.9}, 'Ohio': {2000: 1.5, 2001: 1.7, 2002: 3.6}}</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame3 = pd.DataFrame(pop)</span><br><span class="line">frame3</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Nevada</th><th>Ohio</th></tr></thead><tbody><tr><th>2001</th><td>2.4</td><td>1.7</td></tr><tr><th>2002</th><td>2.9</td><td>3.6</td></tr><tr><th>2000</th><td>NaN</td><td>1.5</td></tr></tbody></table></div><h3 id="pddataframe-dict--index---指定索引"><strong><em>pd.DataFrame( dict , index )</em></strong> : 指定索引</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(pop, index=[<span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>Nevada</th><th>Ohio</th></tr></thead><tbody><tr><th>2001</th><td>2.4</td><td>1.7</td></tr><tr><th>2002</th><td>2.9</td><td>3.6</td></tr><tr><th>2003</th><td>NaN</td><td>NaN</td></tr></tbody></table></div><h3 id="dataframe-的索引和切片">DataFrame 的索引和切片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame2[<span class="string">'state'</span>]</span><br></pre></td></tr></table></figure><p>2000 Ohio<br>2001 Ohio<br>2002 Ohio<br>2001 Nevada<br>2002 Nevada<br>2003 Nevada<br>Name: state, dtype: object</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame2.state</span><br></pre></td></tr></table></figure><p>2000 Ohio<br>2001 Ohio<br>2002 Ohio<br>2001 Nevada<br>2002 Nevada<br>2003 Nevada<br>Name: state, dtype: object</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame2.loc[<span class="number">2002</span>]</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th><th>debt</th></tr></thead><tbody><tr><th>2002</th><td>2002</td><td>Ohio</td><td>3.6</td><td>NaN</td></tr><tr><th>2002</th><td>2002</td><td>Nevada</td><td>2.9</td><td>NaN</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame2[<span class="string">'state'</span>].loc[<span class="number">2002</span>]</span><br></pre></td></tr></table></figure><p>2002 Ohio<br>2002 Nevada<br>Name: state, dtype: object</p><h3 id="dataframe-的赋值">DataFrame 的赋值</h3><h4 id="数组或列表--将列表或数组赋值给某个列时-其长度必须跟-dataframe-的长度相匹配">数组或列表 : 将列表或数组赋值给某个列时， 其长度必须跟 DataFrame 的长度相匹配</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame2[<span class="string">'debt'</span>] = np.arange(<span class="number">6.</span>)</span><br><span class="line">frame2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th><th>debt</th></tr></thead><tbody><tr><th>2000</th><td>2000</td><td>Ohio</td><td>1.5</td><td>0.0</td></tr><tr><th>2001</th><td>2001</td><td>Ohio</td><td>1.7</td><td>1.0</td></tr><tr><th>2002</th><td>2002</td><td>Ohio</td><td>3.6</td><td>2.0</td></tr><tr><th>2001</th><td>2001</td><td>Nevada</td><td>2.4</td><td>3.0</td></tr><tr><th>2002</th><td>2002</td><td>Nevada</td><td>2.9</td><td>4.0</td></tr><tr><th>2003</th><td>2003</td><td>Nevada</td><td>3.2</td><td>5.0</td></tr></tbody></table></div><h4 id="series--如果赋值的是一个-series--就会精确匹配-dataframe-的索引">Series : 如果赋值的是一个 Series , 就会精确匹配 DataFrame 的索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val = pd.Series([-<span class="number">1.2</span>, -<span class="number">1.5</span>, -<span class="number">1.7</span>], index=[<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2004</span>])</span><br><span class="line">frame2[<span class="string">'debt'</span>] = val</span><br><span class="line">frame2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th><th>debt</th></tr></thead><tbody><tr><th>2000</th><td>2000</td><td>Ohio</td><td>1.5</td><td>-1.2</td></tr><tr><th>2001</th><td>2001</td><td>Ohio</td><td>1.7</td><td>-1.5</td></tr><tr><th>2002</th><td>2002</td><td>Ohio</td><td>3.6</td><td>NaN</td></tr><tr><th>2001</th><td>2001</td><td>Nevada</td><td>2.4</td><td>-1.5</td></tr><tr><th>2002</th><td>2002</td><td>Nevada</td><td>2.9</td><td>NaN</td></tr><tr><th>2003</th><td>2003</td><td>Nevada</td><td>3.2</td><td>NaN</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame2[<span class="string">'debt_null'</span>] = pd.notnull(frame2.debt)</span><br><span class="line"><span class="comment">### 注意 : 不能用frame2.debt_null创建新的列</span></span><br><span class="line">frame2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>year</th><th>state</th><th>pop</th><th>debt</th><th>debt_null</th></tr></thead><tbody><tr><th>2000</th><td>2000</td><td>Ohio</td><td>1.5</td><td>-1.2</td><td>True</td></tr><tr><th>2001</th><td>2001</td><td>Ohio</td><td>1.7</td><td>-1.5</td><td>True</td></tr><tr><th>2002</th><td>2002</td><td>Ohio</td><td>3.6</td><td>NaN</td><td>False</td></tr><tr><th>2001</th><td>2001</td><td>Nevada</td><td>2.4</td><td>-1.5</td><td>True</td></tr><tr><th>2002</th><td>2002</td><td>Nevada</td><td>2.9</td><td>NaN</td><td>False</td></tr><tr><th>2003</th><td>2003</td><td>Nevada</td><td>3.2</td><td>NaN</td><td>False</td></tr></tbody></table></div><h3 id="del--dataframe-删除某列"><strong><em>del</em></strong> : DataFrame 删除某列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> frame2[<span class="string">'debt_null'</span>]</span><br><span class="line">frame2.columns</span><br></pre></td></tr></table></figure><p>Index(['year', 'state', 'pop', 'debt'], dtype='object')</p><h3 id="dataframe-的转置">DataFrame 的转置</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame3.T</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>2001</th><th>2002</th><th>2000</th></tr></thead><tbody><tr><th>Nevada</th><td>2.4</td><td>2.9</td><td>NaN</td></tr><tr><th>Ohio</th><td>1.7</td><td>3.6</td><td>1.5</td></tr></tbody></table></div><h3 id="可以输入给-dataframe-进行构造的数据">可以输入给 DataFrame 进行构造的数据</h3><table><thead><tr class="header"><th><strong>类型</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr class="odd"><td>二维 ndarray</td><td>数据矩阵, 还可以传入行标和列标</td></tr><tr class="even"><td>由数组、列表和元组组成的字典</td><td>字典的每个键对应的序列会成为 DataFrame 的一列, 所有序列的长度必须相同</td></tr><tr class="odd"><td>Numpy 的结构化 / 记录数组</td><td>类似于有数组组成的字典</td></tr><tr class="even"><td>由 Series 组成的字典</td><td>字典的每个键对应的 Series 会成为一列</td></tr><tr class="odd"><td>由字典组成的字典</td><td>外层字典的键为列头, 内层字典的键为行索引</td></tr><tr class="even"><td>字典或 Series 列表</td><td>列表各项会成为 DataFrame 的各行, 各项字典/ Series 对应的键/索引会成为列头</td></tr><tr class="odd"><td>由列表或元组组成的列表</td><td>类似于二维 ndarray</td></tr><tr class="even"><td>另一个 DataFrame</td><td>该 DataFrame 的索引将被沿用</td></tr><tr class="odd"><td>Numpy 的 MaskedArray</td><td>类似于二维 ndarray, 掩码值在 DataFrame 会变成NA/缺失值</td></tr></tbody></table><h3 id="dataframe-的-name-和-values-属性">DataFrame 的 <strong><em>name</em></strong> 和 <strong><em>values</em></strong> 属性</h3><p>如果设置了 DataFrame 的 index 和 columns 的 name 属性, 则这些信息也会被显示出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame3.index.name = <span class="string">'year'</span>; frame3.columns.name = <span class="string">'state'</span></span><br><span class="line">frame3</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}.dataframe tbody tr th{vertical-align:top}.dataframe thead th{text-align:right}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th>state</th><th>Nevada</th><th>Ohio</th></tr><tr><th>year</th><th></th><th></th></tr></thead><tbody><tr><th>2001</th><td>2.4</td><td>1.7</td></tr><tr><th>2002</th><td>2.9</td><td>3.6</td></tr><tr><th>2000</th><td>NaN</td><td>1.5</td></tr></tbody></table></div><p>values 属性也会以二维 ndarray 的形式返回 DataFrame 中的数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame3.values</span><br></pre></td></tr></table></figure><p>array([[2.4, 1.7],<br>[2.9, 3.6],<br>[nan, 1.5]])</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame2.values</span><br></pre></td></tr></table></figure><p>array([[2000, 'Ohio', 1.5, -1.2],<br>[2001, 'Ohio', 1.7, -1.5],<br>[2002, 'Ohio', 3.6, nan],<br>[2001, 'Nevada', 2.4, -1.5],<br>[2002, 'Nevada', 2.9, nan],<br>[2003, 'Nevada', 3.2, nan]], dtype=object)</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/02-numpy_02/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/02-numpy_02/" class="post-title-link" itemprop="url">数据分析-02-Numpy Pt.2</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 15:22:31 / 修改时间：10:29:55" itemprop="dateCreated datePublished" datetime="2022-07-31T15:22:31Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>这篇博客主要介绍 NumPy 的数据类型和函数使用，包括 NumPy 数组的创建、索引和运算，常用的一元函数和二元函数，统计计算，线性代数计算，数组比较，随机数组的生成以及 NumPy 数组的读取与写出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><h2 id="数组扩展">数组扩展</h2><div class="post-button"><a class="btn" href="/2022/cdo/02-numpy_02/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/02-numpy_01/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/02-numpy_01/" class="post-title-link" itemprop="url">数据分析-02-Numpy Pt.1</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-31 15:22:30 / 修改时间：10:29:55" itemprop="dateCreated datePublished" datetime="2022-07-31T15:22:30Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>这篇博客主要介绍 NumPy 的数据类型和函数使用，包括 NumPy 数组的创建、索引和运算，常用的一元函数和二元函数，统计计算，线性代数计算，数组比较，随机数组的生成以及 NumPy 数组的读取与写出</p><div class="post-button"><a class="btn" href="/2022/cdo/02-numpy_01/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/01-python/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/01-python/" class="post-title-link" itemprop="url">数据分析-01-Python</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-30 22:22:16" itemprop="dateCreated datePublished" datetime="2022-07-30T22:22:16Z">2022-07-30</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-07-31 10:28:25" itemprop="dateModified" datetime="2022-07-31T10:28:25Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>这篇博客主要介绍 Python 的基本语法，包括列表推导式、函数的定义和调用、生成器的使用、异常处理和文件的读写</p><div class="post-button"><a class="btn" href="/2022/cdo/01-python/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content"><link itemprop="mainEntityOfPage" href="http://buujun.github.io/2022/cdo/cdo_11_Miscellaneous/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/bj.avatar.gif"><meta itemprop="name" content="BUUJUN WANG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="BUUJUN's Notes"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="undefined | BUUJUN's Notes"><meta itemprop="description" content=""></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/cdo/cdo_11_Miscellaneous/" class="post-title-link" itemprop="url">CDO - 其他操作</a></h2><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-07-30 13:43:54" itemprop="dateCreated datePublished" datetime="2022-07-30T13:43:54Z">2022-07-30</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-07-31 09:10:24" itemprop="dateModified" datetime="2022-07-31T09:10:24Z">2022-07-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>本篇博客将介绍 CDO 的其他功能，如：滤波、平滑、统计等功能</p><div class="post-button"><a class="btn" href="/2022/cdo/cdo_11_Miscellaneous/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><nav class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">BUUJUN WANG</span></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"http://buujun.github.io/"}</script><script src="/js/third-party/quicklink.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline-server-buujun.vercel.app","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":false,"pageview":false,"locale":{"placeholder":"Welcome to comment"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],"meta":["nick","mail"],"requiredMeta":[],"wordLimit":300,"pageSize":10,"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.waline.el).then(()=>NexT.utils.getScript(CONFIG.waline.libUrl,{condition:window.Waline})).then(()=>Waline.init(Object.assign({},CONFIG.waline,{el:document.querySelector(CONFIG.waline.el)})))})</script><script async src="/js/cursor/fireworks.js"></script><script src="/js/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script></body></html>